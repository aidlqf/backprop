(this["webpackJsonpBackpropagation-Visualizer"]=this["webpackJsonpBackpropagation-Visualizer"]||[]).push([[0],{181:function(t,e,n){},466:function(t,e){},467:function(t,e){},475:function(t,e){},478:function(t,e){},479:function(t,e){},480:function(t,e,n){},481:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"formatWeightArray",(function(){return Z})),n.d(a,"toFunc2DArray",(function(){return G})),n.d(a,"flatten",(function(){return K})),n.d(a,"getRandomInt",(function(){return Q})),n.d(a,"tensorToArray",(function(){return $}));var r={};n.r(r),n.d(r,"generateLinearScale",(function(){return _})),n.d(r,"generateLink",(function(){return tt})),n.d(r,"generateNeuronPlacement",(function(){return et})),n.d(r,"generateLinksPlacement",(function(){return nt}));var s=n(12),i=n.n(s),c=n(67),o=n.n(c),l=n(4),u=n(9),h=n(13),d=n(14),f=n(49),p=(n(181),n(18));var j=function(){var t=100;return Object(p.jsx)("div",{children:Object(p.jsxs)("svg",{width:t,height:10,class:"grad",overflow:"visible",children:[Object(p.jsx)("text",{fill:"grey",fontFamily:"sans-serif",fontSize:"10px",x:0,y:-13,children:"Color and stroke"}),Object(p.jsx)("text",{fill:"grey",fontFamily:"sans-serif",fontSize:"10px",x:0,y:-4,children:"indicate weight"}),Object(p.jsx)("text",{fontSize:"12px",fill:"grey",x:-.5,y:18,children:"|"}),Object(p.jsx)("text",{fontSize:"13px",fill:"grey",x:-2.5,y:28,children:"\u2013"}),Object(p.jsx)("text",{fontSize:"12px",fill:"grey",x:48,y:18,children:"|"}),Object(p.jsx)("text",{fontSize:"13px",fill:"grey",x:45.5,y:30,children:"0"}),Object(p.jsx)("text",{fontSize:"12px",fill:"grey",x:98,y:18,children:"|"}),Object(p.jsx)("text",{fontSize:"13px",fill:"grey",x:95.5,y:28,children:"+"})]})})},b=function(t){var e=t.source,n=t.target,a=t.color;return Object(p.jsxs)("g",{children:[Object(p.jsx)("defs",{children:Object(p.jsx)("marker",{id:"head",orient:"auto",markerWidth:"3",markerHeight:"4",refX:"0.1",refY:"2",children:Object(p.jsx)("path",{d:"M0,0 V4 L2,2 Z",fill:a})})}),Object(p.jsx)("path",{id:"arrow-line",markerEnd:"url(#head)",strokeWidth:"3",fill:"none",stroke:a,d:"M".concat(e.x,",").concat(e.y,", ").concat(n.x,", ").concat(n.y)})]})},g=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"flatten",value:function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)e.push(t[n][a]);return e}},{key:"isEmpty",value:function(t){return 0===t.length}},{key:"isUndefined",value:function(t){return"undefined"===typeof t}},{key:"isUndefined3d",value:function(t,e,n,a){return this.isUndefined(t[e])||this.isUndefined(t[e][n])||this.isUndefined(t[e][n][a])}},{key:"render",value:function(){var t=this,e=this.props,n=e.playing,a=e.mode,r=e.shapedLinks,s=e.shapedWeights,i=e.shapedRects,c=e.miniNN,o=f.d().x((function(t){return t.x})).y((function(t){return t.y})),l="black",u=32,h=function(t,e,n,a,r){var s=a?-n:n;return Object(p.jsx)(b,{source:{x:t,y:e},target:{x:t,y:e+s},color:r})},d=Object(p.jsx)("svg",{id:"p",width:"810",height:"500",overflow:"visible",children:Object(p.jsxs)("g",{children:[Object(p.jsx)("path",{d:"M 750, 234 L 750, 300",stroke:l,className:n}),Object(p.jsx)("path",{d:o({source:{x:766,y:315},target:{x:890,y:430}}),stroke:l,fill:"none",className:n}),Object(p.jsx)("path",{d:o({source:{x:766,y:250},target:{x:890,y:150}}),stroke:l,fill:"none",className:n}),r.map((function(e,a){return e.map((function(e,r){return e.map((function(e,i){var c=t.isUndefined3d(s,a,r,i),o=c?[]:s[a][r][i],l=c?1:2*Math.abs(o)+.1,u=c?"lightgrey":o>0?"#4BA3C3":"#D62839";return Object(p.jsx)("path",{d:e,className:n,strokeWidth:l,stroke:u,fill:"none"},i)}))}))})),Object(p.jsx)("rect",{x:34,y:234,width:u,height:u,fill:"darkgrey"}),i.map((function(t,e){return t.map((function(t,n){var r=null!==c?c.model[e][n]:null;return Object(p.jsxs)("g",{children:[Object(p.jsx)("rect",{x:t.x,y:t.y,width:u,height:u,fill:"darkgrey"}),null!==c&&a?h(t.x+16,t.y+16,Math.abs(r.dActStep),r.dActStep<0,"grey"):""]})}))})),Object(p.jsx)("rect",{x:734,y:300,width:u,height:u,fill:"none",stroke:"black"}),Object(p.jsx)("text",{fontFamily:"sans-serif",fontSize:"12px",x:739,y:318,children:"loss"})]})});return Object(p.jsxs)("div",{id:"nn",children:[d,Object(p.jsx)(j,{})]})}}]),n}(s.Component),v=n(3),m=n.n(v),y=n(11),x=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"plotPoints",value:function(t,e){t.selectAll("circle").data(e).enter().append("circle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",2).style("fill","grey")}},{key:"componentDidMount",value:function(){var t=Object(y.a)(m.a.mark((function t(){var e,n,a,r,s,i,c,o,l,u,h,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props,n=e.width,a=e.height,r=e.padding,s=e.start,i=e.stop,c=f.h("#nice"),(o=c.append("svg").attr("width",n).attr("height",a).style("overflow","visible")).append("rect").attr("width",n).attr("height",a).attr("class","cord"),l=f.g().domain([s,i]).range([0,n-2*r]),u=f.g().domain([s,i]).range([a-2*r,0]),h=f.a().scale(l),d=f.b().scale(u),o.append("g").attr("class","axis").attr("transform","translate(0,".concat(a-2*r,")")).call(h),o.append("g").attr("class","axis").attr("transform","translate("+(n-2*r)+",0)").call(d),o.append("line").attr("x1",0).attr("y1",(a+1)/2).attr("x2",n).attr("y2",(a+1)/2).attr("class","split"),o.append("line").attr("x1",(n+1)/2).attr("y1",0).attr("x2",(n+1)/2).attr("y2",a).attr("class","split"),o.append("path").attr("id","epic").attr("stroke","none").attr("fill","none");case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){for(var t=this.props,e=t.width,n=t.height,a=t.padding,r=t.start,s=t.stop,i=t.X,c=t.y,o=t.yhat,l=f.g().domain([r,s]).range([0,e-2*a]),u=f.g().domain([r,s]).range([n-2*a,0]),h=f.h("#nice").select("svg"),d=[],p=0;p<i.length;p++)d.push({x:l(i[p]),y:u(c[p])});for(var j=[],b=0;b<i.length;b++)j.push([l(i[b]),u(o[b])]);h.selectAll("circle").remove(),this.plotPoints(h,d),h.select("#epic").attr("d",f.c()(j)).attr("stroke","black").attr("fill","none")}},{key:"render",value:function(){return Object(p.jsx)("div",{id:"nice"})}}]),n}(s.Component),O=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=f.h("#sweet"),e=100,n=300,a=f.g().domain([0,-1]).range([0,300]),r=f.g().domain([1,1]).range([100,0]),s=t.append("svg").attr("width",n).attr("height",e).style("overflow","visible");s.append("rect").attr("width",n).attr("height",e).attr("class","cord");var i=f.a().scale(a),c=f.b().scale(r);s.append("g").attr("class","axis").attr("id","x").attr("transform","translate(0,".concat(100,")")).call(i),s.append("g").attr("class","axis").attr("id","y").attr("transform","translate(300,0)").call(c.ticks(0)),s.append("path").attr("id","line").attr("stroke","none").attr("fill","none")}},{key:"componentDidUpdate",value:function(){for(var t=this.props,e=t.lossArray,n=(t.loss,e.length-1),a=f.g().domain([0,n]).range([1,300]),r=f.f(e),s=f.e(e),i=f.g().domain([r,s]).range([100,0]),c=f.h("#sweet").select("svg"),o=[],l=0;l<e.length;l++)o.push([a(l),i(e[l])]);var u=f.a().scale(a),h=f.b().scale(i);c.select("#x").attr("transform","translate(0,".concat(100,")")).call(u.ticks(5)),c.select("#y").attr("transform","translate(300,0)").call(h.ticks(5)),c.select("#line").attr("d",f.c()(o)).attr("stroke","black").attr("fill","none")}},{key:"render",value:function(){return Object(p.jsx)("div",{id:"sweet"})}}]),n}(s.Component),k=n(44),w=n(511),S=n(497),N=n(498),C=n(513),A=n(499),L=(s.Component,n(500)),P=n(501),D=(s.Component,n(502)),F=n(503),M=function(t){var e=t.title;return Object(p.jsx)(D.a,{position:"fixed",variant:"outlined",style:{background:"#175676",color:"white"},children:Object(p.jsx)(F.a,{children:Object(p.jsx)(A.a,{variant:"h6",children:e})})})},T=n(20),R=n(86),W=n(43),z=n(504),B=n(512),U=n(507),I=n(514),E=n(505),q=n(506),V=n(508),X=n(509),J=function(){function t(e,n){Object(l.a)(this,t),this.weights=e,this.bias=n}return Object(u.a)(t,[{key:"mult",value:function(t,e){return t.map((function(t,n){return t*e[n]}))}},{key:"dMult",value:function(t,e){return this.mult(t,e)}},{key:"sum",value:function(t){return t.reduce((function(t,e){return t+e}))}},{key:"dSum",value:function(t,e){for(var n=[],a=0;a<e;a++)n.push(t);return n}},{key:"linear",value:function(t){return t}},{key:"forward",value:function(t,e){var n=this.weights,a=this.bias,r=this.mult,s=this.sum,i=r(t,n),c=s(i)+a,o=e(c);this.inputs=t,this.multStep=i,this.sumStep=c,this.actStep=o,this.output=o}},{key:"backward",value:function(t,e){var n=this.inputs,a=this.weights,r=this.actStep,s=this.dSum,i=this.mult,c=this.sum,o=e(r)*t,l=s(o,n.length),u=o,h=i(l,n),d=i(l,a),f=c(d);this.dvalue=t,this.dActStep=o,this.dSumStep=l,this.dBias=u,this.dWeights=h,this.dInputs=d,this.dInputsSum=f}}]),t}(),Y=function(){function t(){Object(l.a)(this,t)}return Object(u.a)(t,[{key:"forward",value:function(t,e){var n=t-e,a=this.output=Math.pow(t-e,2);this.subStep=n,this.squareStep=a,this.output=a}},{key:"backward",value:function(){this.dInputs=2*this.subStep}}]),t}(),H=function(){function t(e,n,a){Object(l.a)(this,t),this.model=[],this.loss=new Y,this.shape=e;for(var r=0;r<n.length;r++){for(var s=[],i=0;i<n[r].length;i++)s.push(new J(n[r][i],a[r][i]));this.model.push(s)}}return Object(u.a)(t,[{key:"sum",value:function(t){return t.reduce((function(t,e){return t+e}))}},{key:"add",value:function(t,e){var n=t.length,a=e.length;if(a!=n)return console.error("".concat(n," does not match ").concat(a,", so returned empty array")),[];for(var r=new Array(n),s=0;s<t.length;s++)r[s]=t[s]+e[s];return r}},{key:"zeros",value:function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e}},{key:"dReLU",value:function(t){return t>0?1:0}},{key:"dLinear",value:function(t){return 1}},{key:"ReLU",value:function(t){return Math.max(0,t)}},{key:"linear",value:function(t){return t}},{key:"forward",value:function(t,e){for(var n=[t],a=this.model.length,r=0;r<a-1;r++){for(var s=[],i=0;i<this.model[r].length;i++)this.model[r][i].forward(n,this.ReLU),s.push(this.model[r][i].output);n=s}this.model[a-1][0].forward(n,this.linear),this.yhat=this.model[a-1][0].output,this.loss.forward(this.yhat,e)}},{key:"backward",value:function(){this.sum;var t=this.add,e=this.zeros;this.loss.backward();var n=[this.loss.dInputs],a=this.model.length;this.model[a-1][0].backward(n[0],this.dLinear),n=this.model[a-1][0].dInputs;for(var r=a-2;r>=0;r--){for(var s=e(this.model[r][0].inputs.length),i=0;i<this.model[r].length;i++)this.model[r][i].backward(n[i],this.dReLU),s=t(s,this.model[r][i].dInputs);n=s}}},{key:"update",value:function(t){for(var e=function(t,e,n){return t-e*n},n=0;n<this.model.length;n++)for(var a=0;a<this.model[n].length;a++)for(var r=0;r<this.model[n][a].dWeights.length;r++){var s=e(this.model[n][a].weights[r],t,this.model[n][a].dWeights[r]),i=e(this.model[n][a].bias,t,this.model[n][a].dBias);this.model[n][a].weights[r]=s,this.model[n][a].bias[r]=i}}},{key:"throttleForward",value:function(t,e,n,a){var r=this.model[e][t].output+n;this.model[e][t].output=r;for(var s=[],i=0;i<this.model[e].length;i++)s.push(this.model[e][i].output);for(var c=this.model.length,o=e+1;o<c-1;o++){for(var l=[],u=0;u<this.model[o].length;u++)this.model[o][u].forward(s,this.ReLU),l.push(this.model[o][u].output);s=l}this.model[c-1][0].forward(s,this.linear),this.yhat=this.model[c-1][0].output,this.loss.forward(this.yhat,a)}}]),t}();function Z(t,e){for(var n=[],a=0;a<t.length;a++){for(var r=e[a+1],s=[],i=0;i<r;i++){for(var c=[],o=i;o<t[a].length;o+=r)c.push(t[a][o]);s.push(c)}n.push(s)}return n}function G(t,e){for(var n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)t[n][a]=+t[n][a].toFixed(e);return t}function K(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)e.push(t[n][a]);return e}function Q(t){return Math.floor(Math.random()*Math.floor(t))}function $(t){return Array.from(t.dataSync())}function _(t,e){return{xScale:f.g().domain(t.domain).range(t.range),yScale:f.g().domain(e.domain).range(e.range)}}function tt(t){return f.d().x((function(e){return e.x+t})).y((function(e){return e.y+t}))}function et(t,e,n,a,r,s,i){var c=[],o=[];c.push([a]),o.push(a);for(var l=1;l<t.length-1;l++){for(var u=[],h=0;h<t[l];h++){var d={x:s(e[l])-n/2,y:i(92-12*h)-n/2};u.push(d),o.push(d)}c.push(u)}return o.push(r),c.push([r]),{flattenedNeurons:o,shapedNeurons:c}}function nt(t,e,n){for(var a=[],r=[],s=[],i=1;i<t.length;i++){s=[];for(var c=0;c<t[i];c++){a=[];for(var o=0;o<t[i-1];o++)a.push(n({source:e[i-1][o],target:e[i][c]}));s.push(a)}r.push(s)}return r}var at=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={tensorFlowNN:null,miniNN:null,X:[],y:[],yhat:[],shape:[1,4,4,1],lr:.01,epoch:0,biasesData:[],weightsData:[],lossArray:[],loss:null,scale:5,rects:[],weights:[],shapedWeights:[],shapedRects:[],shapedLinks:[],direction:"edgePaused",curve:"sin",controls:{playing:!1,speed:0},sliderVal:2,mode:!1,stopRender:!1},a.initNeuralNetwork=a.initNeuralNetwork.bind(Object(k.a)(a)),a.run=a.run.bind(Object(k.a)(a)),a.genTensorData=a.genTensorData.bind(Object(k.a)(a)),a.mutate=a.mutate.bind(Object(k.a)(a)),a.train=a.train.bind(Object(k.a)(a)),a.printParameters=a.printParameters.bind(Object(k.a)(a)),a.reset=a.reset.bind(Object(k.a)(a)),a.resetParameters=a.resetParameters.bind(Object(k.a)(a)),a.asyncPause=a.asyncPause.bind(Object(k.a)(a)),a.changeModelLr=a.changeModelLr.bind(Object(k.a)(a)),a.anim=a.anim.bind(Object(k.a)(a)),a}return Object(u.a)(n,[{key:"anim",value:function(){var t=Object(y.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"initNeuralNetwork",value:function(t){var e=this.state.controls.playing;if(e){if(e){var n=this.state,s=n.weightsData,i=n.shape,c=a.flatten(s),o=a.formatWeightArray(s,i);this.setState({weights:c,shapedWeights:o})}}else{var l=32,u=r.generateLinearScale({domain:[0,100],range:[50,750]},{domain:[0,100],range:[500,0]}),h=u.xScale,d=u.yScale,f={x:34,y:234},p={x:734,y:234},j=r.generateLink(16),b=r.generateNeuronPlacement(t,[0,25,50,75,0],l,f,p,h,d),g=b.flattenedNeurons,v=b.shapedNeurons,m=r.generateLinksPlacement(t,v,j);v.splice(0,1),this.setState({shapedLinks:m,rects:g,shapedRects:v})}}},{key:"changeModelLr",value:function(t){var e=this;W.m((function(){e.setState({lr:t})}))}},{key:"run",value:function(){var t=Object(y.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!this.state.controls.playing,this.mutate("controls","playing",e),!0!==e){t.next=5;break}return t.next=5,this.train(this.state.X,this.state.y);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"mutate",value:function(t,e,n){var a=this;W.m((function(){var r=Object(R.a)({},a.state);t in r&&e in r[t]?(r[t][e]=n,a.setState({state:r})):console.error("Could not be found in state")}))}},{key:"addModel",value:function(t){var e=this;return W.m((function(){var n=e.state.shape;t.add(W.c.dense({inputShape:[1],units:n[1],activation:"relu",useBias:!0}));for(var a=2;a<n.length-1;a++)t.add(W.c.dense({units:n[a],activation:"relu",useBias:!0}));return t.add(W.c.dense({units:1,activation:"linear",useBias:!0})),t}))}},{key:"modelCompile",value:function(t){var e=W.h();return this.addModel(e),e.compile({optimizer:W.n.sgd(t),loss:"meanSquaredError"}),e}},{key:"train",value:function(){var t=Object(y.a)(m.a.mark((function t(e,n){var r,s,i,c,o,l,u,h,d=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=W.m((function(){return W.l(e)})),s=W.m((function(){return W.l(n)})),i=W.m((function(){return d.state.tensorFlowNN})),c=function(t){return new Promise((function(e){return setTimeout(e,t)}))},o=this.state.controls.playing;case 5:if(!1===o){t.next=17;break}return this.setState({stopRender:!0}),l=this.state.controls,u=l.playing,h=l.speed,o=u,t.next=11,i.fit(r,s,{epochs:1});case 11:return W.m((function(){var t=i.predict(r),e=a.tensorToArray(t),s=W.e.meanSquaredError(n,e).dataSync()[0];d.printParameters(i,s,e,d.state.epoch+1)})),this.setState({stopRender:!1}),t.next=15,c(h);case 15:t.next=5;break;case 17:this.setState({tensorFlowNN:i}),W.b(r),W.b(s);case 20:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"genTensorData",value:function(){var t=Object(y.a)(m.a.mark((function t(e,n,r){var s=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.g();case 2:W.m((function(){var t=W.d(-s.state.scale,s.state.scale,r),i=W.f(e(t),n),c=W.o(t),o=a.tensorToArray(t),l=a.tensorToArray(i),u=a.tensorToArray(c);s.setState({X:o,y:l,yhat:u})}));case 3:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"printParameters",value:function(t,e,n,a){for(var r=[],s=[],i=0;i<t.getWeights().length;i++)(i%2===0?r:s).push(Array.from(t.getWeights()[i].dataSync()));var c=[].concat(Object(T.a)(this.state.lossArray),[e]);this.setState({biasesData:s,weightsData:r,loss:e,yhat:n,epoch:a,lossArray:c}),this.initNeuralNetwork(this.state.shape)}},{key:"asyncPause",value:function(){var t=Object(y.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({controls:Object(R.a)(Object(R.a)({},this.state.controls),{},{playing:!1})});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resetParameters",value:function(){var t=Object(y.a)(m.a.mark((function t(e){var n,a,r,s=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.b(this.state.tensorFlowNN),n=this.state.curve,W.m((function(){"sin"===n?a=W.j:"tanh"===n?a=W.k:"cos"===n&&(a=W.a)})),t.next=5,this.genTensorData(a,e,50);case 5:r=W.m((function(){return s.modelCompile(s.state.lr)})),this.setState(Object(R.a)(Object(R.a)({},this.state),{},{epoch:0,loss:null,weights:[],tensorFlowNN:r,shapedWeights:[],lossArray:[]})),W.b(undefined);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"reset",value:function(){var t=Object(y.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.asyncPause(),this.resetParameters(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(y.a)(m.a.mark((function t(){var e,n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.i("cpu"),this.genTensorData(W.j,this.state.scale,50),this.initNeuralNetwork(this.state.shape),e=W.m((function(){return n.modelCompile(.01)})),this.setState({tensorFlowNN:e});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(){return!this.state.stopRender}},{key:"render",value:function(){var t=this,e=this.state,n=e.X,r=e.y,s=e.shape,i=e.scale,c=e.miniNN,o=e.weightsData,l=e.biasesData,u=e.yhat,h=e.rects,d=e.weights,f=e.mode,j=e.epoch,b=e.curve,v=e.lr,k=e.loss,D=e.controls,F=e.shapedWeights,M=e.shapedLinks,T=e.shapedRects,J=D.playing,Y=D.speed,Z=[{label:"sin",eqn:W.j,scale:5},{label:"cos",eqn:W.a,scale:5},{label:"tanh",eqn:W.k,scale:5}],G=Object(p.jsx)(z.a,{style:{background:this.state.controls.playing?"#D62839":"#175676",color:"white"},disableTouchRipple:!0,onClick:function(){return t.run()},children:J?Object(p.jsx)(q.a,{}):Object(p.jsx)(E.a,{})}),K=Object(p.jsxs)(L.a,{children:[Object(p.jsx)(B.a,{title:"reset",arrow:!0,children:Object(p.jsx)(U.a,{disabled:J,onClick:function(){t.reset(i)},children:Object(p.jsx)(V.a,{})})}),G,Object(p.jsx)(B.a,{title:"slomo",arrow:!0,children:Object(p.jsx)(U.a,{style:{color:0===Y?"grey":"#FFC006"},onClick:function(){t.setState({controls:Object(R.a)(Object(R.a)({},D),{},{speed:0===Y?100:0})})},children:Object(p.jsx)(X.a,{})})})]}),Q=Object(p.jsx)(L.a,{children:Object(p.jsx)(P.a,{onClick:Object(y.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.anim(t.state.miniNN);case 2:case"end":return e.stop()}}),e)}))),children:"REPLAY"})}),$=Object(p.jsxs)(w.a,{width:400,children:[Object(p.jsx)(S.a,{variant:"outlined",children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(A.a,{variant:"caption",style:{color:"#4BA3C3"},children:"Control Center"}),Object(p.jsx)("div",{on:!0}),Object(p.jsx)(B.a,{title:Object(p.jsx)(A.a,{variant:"h6",children:this.state.mode?"Click to go back":"Click to see Backpropagation"}),arrow:!0,placement:"right-start",open:null!=this.state.loss,children:Object(p.jsx)(P.a,{disabled:null==this.state.loss,onClick:Object(y.a)(m.a.mark((function e(){var i,c,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(t){return new Promise((function(e){return setTimeout(e,t)}))},c=a.formatWeightArray(o,s),(u=new H(s,c,l)).forward(n[0],r[0]),u.backward(),t.setState(Object(R.a)(Object(R.a)({},t.state),{},{miniNN:u,mode:!f,controls:Object(R.a)(Object(R.a)({},t.state.controls),{},{playing:!1})})),e.next=8,i(1e3);case 8:return t.setState({nshow:1}),e.next=11,t.anim(u);case 11:case"end":return e.stop()}}),e)}))),children:Object(p.jsxs)(A.a,{variant:"h4",children:["Epoch: ",j]})})}),Object(p.jsxs)(A.a,{variant:"h6",children:["loss:",null==k?"":k.toPrecision(6)]}),this.state.mode?Q:K,Object(p.jsx)(L.a,{})]})}),Object(p.jsx)(w.a,{marginTop:5,children:Object(p.jsx)(S.a,{variant:"outlined",children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(A.a,{variant:"caption",style:{color:"#4BA3C3"},children:"Customization"}),Object(p.jsxs)(L.a,{children:[Object(p.jsx)(A.a,{variant:"caption",children:"Learning Rate"}),[.001,.005,.01,.05,.1].map((function(e,n){return Object(p.jsx)(I.a,{disabled:J,label:"".concat(e),style:{color:v===e?"white":"grey",background:v===e?"#175676":"lightgrey"},onClick:function(){W.m((function(){t.changeModelLr(e),t.reset(i)}))}},n)}))]}),Object(p.jsxs)(L.a,{children:[Object(p.jsx)(A.a,{variant:"caption",children:"Data Set"}),Z.map((function(e,n){return Object(p.jsx)(I.a,{disabled:J,label:e.label,style:{color:b===e.label?"white":"grey",background:b===e.label?"#175676":"lightgrey"},onClick:function(){t.setState({shape:s,curve:e.label}),t.reset(i),W.m((function(){t.genTensorData(e.eqn,e.scale,50)}))}},n)}))]}),Object(p.jsxs)(L.a,{children:[Object(p.jsx)(A.a,{variant:"caption",children:"Neurons"}),Object(p.jsx)(C.a,{style:{color:"#175676"},defaultValue:2,disabled:J,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,onChange:function(e,n){t.setState({sliderVal:n})},min:1,max:8}),Object(p.jsx)(P.a,{disabled:J,onClick:function(){var e=s;e.length<5&&(e[e.length-1]=t.state.sliderVal,e.push(1),t.setState({shape:e}),t.initNeuralNetwork(e),t.reset(i))},children:"+"}),Object(p.jsx)(P.a,{disabled:J,onClick:function(){var e=s;e.length>2&&(e.splice(e.length-2,1),t.setState({shape:e}),t.initNeuralNetwork(e),t.reset(i))},children:"\u2013"})]})]})})})]}),_=Object(p.jsxs)(w.a,{marginLeft:10,children:[Object(p.jsx)(w.a,{children:Object(p.jsx)(x,{width:300,height:300,padding:0,start:-i,stop:i,X:n,y:r,yhat:u})}),Object(p.jsx)(w.a,{marginTop:10,children:Object(p.jsx)(O,{lossArray:this.state.lossArray,loss:k})})]}),tt=Object(p.jsx)(w.a,{marginLeft:10,children:Object(p.jsx)(g,{miniNN:c,input:n[0],label:r[0],shapedWeights:F,shapedLinks:M,shapedRects:T,shape:s,biases:l,weights:d,rects:h,playing:J?0===Y?"edgeForward":"edgeSlowed":"edgePaused",show:J,mode:f,backward:this.state.direction})});return Object(p.jsx)("div",{id:"app",children:Object(p.jsx)(S.a,{variant:"outlined",style:{background:"#FAFAFA",outlineColor:"white",paddingBottom:"1em"},children:Object(p.jsx)(N.a,{children:Object(p.jsxs)(w.a,{className:"regular",display:"flex",justifyContent:"center",marginTop:10,children:[$,tt,_]})})})})}}]),n}(s.Component),rt=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(M,{title:"Backpropogation Explainer"}),Object(p.jsx)(at,{})]})}}]),n}(s.Component),st=(n(480),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,516)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))});o.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(rt,{})}),document.getElementById("root")),st()}},[[481,1,2]]]);
//# sourceMappingURL=main.78853af9.chunk.js.map