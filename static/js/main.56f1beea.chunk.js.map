{"version":3,"sources":["headerTitle.svg","components/implementations/svg/Arrow.js","components/implementations/graphs/NeuralNetworkComponent.js","components/implementations/graphs/ScatterPlot.js","components/implementations/graphs/AnimatedScatterPlot.js","components/implementations/graphs/Loss.js","components/implementations/article/Typeset.js","components/implementations/article/assets/navSVG/structMan.svg","components/implementations/article/assets/navSVG/structArt.svg","components/implementations/article/assets/navSVG/structNN.svg","components/implementations/article/assets/navSVG/structLin.svg","components/implementations/article/assets/navSVG/structAck.svg","components/implementations/article/Nav.js","components/implementations/article/ContourLoss.js","components/implementations/article/SubTool.js","components/implementations/article/LinearScatter.js","components/implementations/article/NestedFunction.js","components/implementations/article/assets/forward.svg","components/implementations/article/assets/summary.svg","components/implementations/article/assets/backward.svg","components/implementations/article/Explanation.js","components/implementations/app/assets/controlcenter.gif","components/implementations/app/assets/singleSummary.svg","components/implementations/app/assets/epochMode.png","components/implementations/app/assets/key.svg","nnMiniLibrary/implementations/Neuron.js","nnMiniLibrary/implementations/Loss.js","nnMiniLibrary/implementations/NeuralNetwork.js","nnMiniLibrary/implementations/Tools.js","Utils/implementations/Draw.js","components/implementations/app/MainTool.js","components/implementations/article/Header.js","App.js","reportWebVitals.js","index.js"],"names":["Legend","source","target","color","isAnimating","id","orient","markerWidth","markerHeight","refX","refY","d","fill","className","markerEnd","stroke","x","y","NeuralNetworkComponent","props","state","array","flattendArray","i","length","e","push","val","array3d","j","k","this","isUndefined","playing","mode","shapedLinks","shapedWeights","shapedRects","miniNN","subEpoch","keyFrameLoss","keyFrameLayer","colorOfMotion","link","d3","graphConnectionColor","squareWidth","VerticalArrow","xStart","yStart","dirIsUp","vector","Arrow","nn","width","height","overflow","map","layer","neuron","moving","colorChange","isUndefined3d","currentWeight","sw","Math","abs","s","gradient","model","dWeights","gradientWithLr","select","transition","duration","ease","attr","strokeWidth","actColor","beforeUpdate","brighter","actStep","lr","dActStep","fontFamily","fontSize","Component","ScatterPlot","node","formattedPoints","selectAll","data","enter","append","_","style","a","padding","start","stop","container","svg","xScale","domain","range","yScale","xAxis","scale","yAxis","call","X","yhat","dataSet","remove","plotPoints","AnimatedScatterPlot","potential","realYhat","zeroArray","potentialYhat","xNum","status","shouldNotRender","Loss","ticks","lossArray","lossMin","lossMax","$","inlineLaTeX","math","$$","blockLaTeX","Nav","backgroundColor","Box","display","justifyContent","Button","onClick","scroller","scrollTo","delay","smooth","alt","src","structArtSVG","offset","structManSVG","structLinSVG","structNNSVG","structAckSVG","ContourLoss","loss","m","b","summed","pow","darkness","n","values","Array","thresholds","contours","size","join","value","ms","SubTool","playButton","linreg","meanSquaredError","rsquared","hyperparams","learningRate","epochs","speed","tunableparams","generateData","bind","linearRegression","handleSlider","reset","setState","tf","yTensor","mean","dataSync","XTensor","yPred","h","len","shape","dlossdm","dlossdb","lossValue","y_pred","from","timer","Promise","res","setTimeout","upperBounds","changeSpeed","event","num","precision","marginTop","marginRight","Card","variant","CardContent","Typography","component","toPrecision","IconButton","Replay","Fab","background","disableTouchRipple","PlayArrow","Stop","SlowMotionVideo","isFinite","LinearScatter","weight","bias","line","show","biasColor","weightColor","lossColor","y_predTensor","output","increment","initDomain","initRange","computeLine","initLine","dataGenerator","filter","marginLeft","Slider","onChange","newLine","min","step","max","valueLabelDisplay","toFixed","NestedFunction","input","output1","output2","output3","weights","biases","compute","initParams","linfunc","w","arr","random","genRandomArray","fixedInput","outputArr","strokeDasharray","CardActions","Explanation","href","content","orange","blue","definiton","word","desc","Tooltip","title","placement","arrow","topic","subtopic","paper","name","varaint","disabled","rel","forwardSVG","backwardSVG","summarySVG","Help","maxWidth","Neuron","array1","array2","item","dvalues","oppositeParameter","mult","reduce","dvalue","numInputs","dSumArray","inputs","activation","sum","multStep","sumStep","dSum","dSumStep","dBias","dInputs","dInputsSum","MeanSquaredErrorLoss","subStep","squareStep","NeuralNetwork","dense","array1Length","array2Length","console","error","result","label","lastLayer","outputs","forward","ReLU","linear","add","zeros","backward","dValues","dLinear","dReLU","gd","dweight","newWeights","newBias","change","calcChange","l","formatWeightArray","uweights","weightSet","t","toFunc2DArray","fixed","flatten","getRandomInt","floor","tensorToArray","tensor","generateLinearScale","generateLink","adjustment","generateNeuronPlacement","layerProportion","startNeuron","stopNeuron","shapedNeurons","flattenedNeurons","coordinate","generateLinksPlacement","linksGenerator","perLink","layerLinks","neuronLinks","nextNeuron","MainTool","tensorFlowNN","epoch","cpyEpoch","biasesData","weightsData","rects","direction","curve","controls","sliderVal","stopRender","keyFrameScatter","lossSavings","lossDifference","singleInputExample","singleLabelExample","newOutput","controlCenterHelp","customizationHelp","neuralNetworkHelp","scatterHelp","lossHelp","lossChange","singleInputIndex","zoom","initNeuralNetwork","run","genTensorData","mutate","train","printParameters","resetParameters","asyncPause","changeModelLr","anim","randomInputGeneration","randomInput","tools","formattedWeights","clone","update","updatedLoss","inputArray","inputArrayLength","outputArray","forwardAll","flattenedWeights","draw","splice","lrChange","key","subkey","inputShape","units","useBias","addModel","compile","optimizer","sgd","play","fit","batchSize","yhatTensor","predict","eqn","scaled","volume","getWeights","modelCompile","zoomFactor","document","body","clientWidth","correctZoom","dataSets","PlayButtonClick","controlsReg","FastForward","controlsBackProp","controlCenter","formatValue","Chip","scatter","times","neuralNetwork","position","bottom","left","outlineColor","paddingBottom","transform","keySVG","Dialog","PaperProps","open","DialogActions","Close","DialogContent","controlGif","marginBottom","epochModePNG","Summary","singleSummarySVG","App","ReactGa","initialize","pageview","isPerson","header","headerTitleSVG","acks","Typeset","GitHub","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.56f1beea.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/headerTitle.cff466f0.svg\";","import React from \"react\";\nimport \"../d3.css\";\nconst Legend = ({ source, target, color, isAnimating }) => (\n\t<g>\n\t\t<defs>\n\t\t\t<marker\n\t\t\t\tid=\"head\"\n\t\t\t\torient=\"auto\"\n\t\t\t\tmarkerWidth=\"3\"\n\t\t\t\tmarkerHeight=\"4\"\n\t\t\t\trefX=\"0.1\"\n\t\t\t\trefY=\"2\"\n\t\t\t>\n\t\t\t\t<path d=\"M0,0 V4 L2,2 Z\" fill={color} />\n\t\t\t</marker>\n\t\t</defs>\n\t\t<path\n\t\t\tclassName={!isAnimating ? \"arrow\" : \"absorb\"}\n\t\t\tid=\"arrow-line\"\n\t\t\tmarkerEnd=\"url(#head)\"\n\t\t\tfill=\"none\"\n\t\t\tstroke={color}\n\t\t\td={`M${source.x},${source.y}, ${target.x}, ${target.y}`}\n\t\t/>\n\t</g>\n);\nexport default Legend;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport Arrow from \"../svg/Arrow\";\nimport \"../d3.css\";\n\nclass NeuralNetworkComponent extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\tflatten(array) {\n\t\tlet flattendArray = [];\n\t\tfor (let i = 0; i < array.length; i++) {\n\t\t\tfor (let e = 0; e < array[i].length; e++) {\n\t\t\t\tflattendArray.push(array[i][e]);\n\t\t\t}\n\t\t}\n\t\treturn flattendArray;\n\t}\n\tisEmpty(array) {\n\t\treturn array.length === 0;\n\t}\n\tisUndefined(val) {\n\t\treturn typeof val === \"undefined\";\n\t}\n\tisUndefined3d(array3d, i, j, k) {\n\t\treturn (\n\t\t\tthis.isUndefined(array3d[i]) ||\n\t\t\tthis.isUndefined(array3d[i][j]) ||\n\t\t\tthis.isUndefined(array3d[i][j][k])\n\t\t);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tplaying,\n\t\t\tmode,\n\t\t\tshapedLinks,\n\t\t\tshapedWeights,\n\t\t\tshapedRects,\n\t\t\tminiNN,\n\t\t\tsubEpoch,\n\t\t\tkeyFrameLoss,\n\t\t\tkeyFrameLayer,\n\t\t} = this.props;\n\t\tconst colorOfMotion = \"orange\";\n\t\tconst link = d3\n\t\t\t.linkHorizontal()\n\t\t\t.x((d) => d.x)\n\t\t\t.y((d) => d.y);\n\t\tconst negWeight = \"#D62839\";\n\t\tconst posWeight = \"#4BA3C3\";\n\t\tconst graphConnectionColor = \"black\";\n\t\tconst squareWidth = 32;\n\n\t\tconst VerticalArrow = (xStart, yStart, length, dirIsUp, color) => {\n\t\t\tconst vector = dirIsUp ? -length : length;\n\t\t\treturn (\n\t\t\t\t<Arrow\n\t\t\t\t\tsource={{ x: xStart, y: yStart }}\n\t\t\t\t\ttarget={{ x: xStart, y: yStart + vector }}\n\t\t\t\t\tcolor={color}\n\t\t\t\t\tisAnimating={subEpoch === \"transition\"}\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\t\tconst keyFrameLossCalc = () => {\n\t\t\tif (keyFrameLoss === 1) {\n\t\t\t\treturn \"edgeForward\";\n\t\t\t} else if (keyFrameLoss === 2) {\n\t\t\t\treturn \"edgeBackward\";\n\t\t\t} else {\n\t\t\t\treturn \"edgePaused\";\n\t\t\t}\n\t\t};\n\n\t\tconst nn = (\n\t\t\t<svg id=\"p\" width=\"810\" height=\"500\" overflow=\"visible\">\n\t\t\t\t<g id=\"ee\">\n\t\t\t\t\t<path\n\t\t\t\t\t\td=\"M 750, 234 L 750, 300\"\n\t\t\t\t\t\tstroke={\n\t\t\t\t\t\t\tkeyFrameLoss === 2 || keyFrameLoss === 1\n\t\t\t\t\t\t\t\t? colorOfMotion\n\t\t\t\t\t\t\t\t: graphConnectionColor\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\tmode && keyFrameLoss > 0\n\t\t\t\t\t\t\t\t? keyFrameLossCalc()\n\t\t\t\t\t\t\t\t: playing\n\t\t\t\t\t\t}\n\t\t\t\t\t></path>\n\n\t\t\t\t\t<path\n\t\t\t\t\t\td={link({\n\t\t\t\t\t\t\tsource: { x: 766, y: 315 },\n\t\t\t\t\t\t\ttarget: { x: 890, y: 430 },\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstroke={graphConnectionColor}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tclassName={playing}\n\t\t\t\t\t></path>\n\t\t\t\t\t<path\n\t\t\t\t\t\td={link({\n\t\t\t\t\t\t\tsource: { x: 766, y: 250 },\n\t\t\t\t\t\t\ttarget: { x: 890, y: 150 },\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tstroke={graphConnectionColor}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tclassName={playing}\n\t\t\t\t\t></path>\n\t\t\t\t\t{shapedLinks.map((layer, i) => {\n\t\t\t\t\t\treturn layer.map((neuron, j) => {\n\t\t\t\t\t\t\tlet moving = \"edgePaused\";\n\t\t\t\t\t\t\tlet color = colorOfMotion;\n\t\t\t\t\t\t\tlet colorChange = false;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\tsubEpoch === \"forward\" &&\n\t\t\t\t\t\t\t\ti === keyFrameLayer\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tmoving = \"edgeForward\";\n\t\t\t\t\t\t\t\tcolorChange = true;\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\tsubEpoch === \"backward\" &&\n\t\t\t\t\t\t\t\ti === keyFrameLayer\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tmoving = \"edgeBackward\";\n\t\t\t\t\t\t\t\tcolorChange = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn neuron.map((d, k) => {\n\t\t\t\t\t\t\t\tconst isUndefined = this.isUndefined3d(\n\t\t\t\t\t\t\t\t\tshapedWeights,\n\t\t\t\t\t\t\t\t\ti,\n\t\t\t\t\t\t\t\t\tj,\n\t\t\t\t\t\t\t\t\tk\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconst currentWeight = isUndefined\n\t\t\t\t\t\t\t\t\t? []\n\t\t\t\t\t\t\t\t\t: shapedWeights[i][j][k];\n\t\t\t\t\t\t\t\tconst sw = isUndefined\n\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t: 2 * Math.abs(currentWeight) + 0.1;\n\t\t\t\t\t\t\t\tconst s = isUndefined\n\t\t\t\t\t\t\t\t\t? \"lightgrey\"\n\t\t\t\t\t\t\t\t\t: currentWeight > 0\n\t\t\t\t\t\t\t\t\t? posWeight\n\t\t\t\t\t\t\t\t\t: negWeight;\n\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\t\tsubEpoch === \"update\" &&\n\t\t\t\t\t\t\t\t\tthis.props.isAnimating === true\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tlet gradient =\n\t\t\t\t\t\t\t\t\t\t2 * miniNN.model[i][j].dWeights[k];\n\t\t\t\t\t\t\t\t\tlet gradientWithLr = gradient * 0.01;\n\n\t\t\t\t\t\t\t\t\td3.select(\"#nn\")\n\t\t\t\t\t\t\t\t\t\t.select(\"#p\")\n\t\t\t\t\t\t\t\t\t\t.select(\"#ee\")\n\t\t\t\t\t\t\t\t\t\t.select(`#cpath${i}${j}${k}`)\n\t\t\t\t\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t\t\t\t.duration(750)\n\t\t\t\t\t\t\t\t\t\t.ease(d3.easeExpIn)\n\t\t\t\t\t\t\t\t\t\t.attr(\"stroke-width\", sw - gradient)\n\t\t\t\t\t\t\t\t\t\t.transition()\n\t\t\t\t\t\t\t\t\t\t.duration(750)\n\t\t\t\t\t\t\t\t\t\t.ease(d3.easeExpOut)\n\t\t\t\t\t\t\t\t\t\t.attr(\n\t\t\t\t\t\t\t\t\t\t\t\"stroke-width\",\n\t\t\t\t\t\t\t\t\t\t\tsw - gradientWithLr\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tid={`cpath${i}${j}${k}`}\n\t\t\t\t\t\t\t\t\t\tkey={`${i}${j}${k}`}\n\t\t\t\t\t\t\t\t\t\td={d}\n\t\t\t\t\t\t\t\t\t\tclassName={mode ? moving : playing}\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={sw}\n\t\t\t\t\t\t\t\t\t\tstroke={colorChange ? color : s}\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t})}\n\t\t\t\t\t<rect\n\t\t\t\t\t\tx={55}\n\t\t\t\t\t\ty={234}\n\t\t\t\t\t\twidth={squareWidth}\n\t\t\t\t\t\theight={squareWidth}\n\t\t\t\t\t\tfill=\"darkgrey\"\n\t\t\t\t\t></rect>\n\n\t\t\t\t\t{shapedRects.map((neuron, i) =>\n\t\t\t\t\t\tneuron.map((d, j) => {\n\t\t\t\t\t\t\tlet actColor = false;\n\t\t\t\t\t\t\tconst beforeUpdate =\n\t\t\t\t\t\t\t\tsubEpoch === \"backward\" ||\n\t\t\t\t\t\t\t\tsubEpoch === \"transition\";\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t(mode && i <= keyFrameLayer) ||\n\t\t\t\t\t\t\t\tbeforeUpdate ||\n\t\t\t\t\t\t\t\tsubEpoch === \"update\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tactColor = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<g key={`${i},${j}`}>\n\t\t\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\t\t\tx={d.x}\n\t\t\t\t\t\t\t\t\t\ty={d.y}\n\t\t\t\t\t\t\t\t\t\twidth={squareWidth}\n\t\t\t\t\t\t\t\t\t\theight={squareWidth}\n\t\t\t\t\t\t\t\t\t\tfill={d3\n\t\t\t\t\t\t\t\t\t\t\t.rgb(104, 104, 104)\n\t\t\t\t\t\t\t\t\t\t\t.brighter(\n\t\t\t\t\t\t\t\t\t\t\t\tactColor\n\t\t\t\t\t\t\t\t\t\t\t\t\t? miniNN.model[i][j]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.actStep +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.lr\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tstroke={\n\t\t\t\t\t\t\t\t\t\t\td.x === 734 && d.y === 234\n\t\t\t\t\t\t\t\t\t\t\t\t? \"#507BB6\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"black\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tstrokeWidth={3}\n\t\t\t\t\t\t\t\t\t></rect>\n\n\t\t\t\t\t\t\t\t\t{miniNN !== null &&\n\t\t\t\t\t\t\t\t\tmode &&\n\t\t\t\t\t\t\t\t\tbeforeUpdate &&\n\t\t\t\t\t\t\t\t\ti >= keyFrameLayer - 1 &&\n\t\t\t\t\t\t\t\t\tminiNN.model[i][j].dActStep !== 0\n\t\t\t\t\t\t\t\t\t\t? VerticalArrow(\n\t\t\t\t\t\t\t\t\t\t\t\td.x + 16,\n\t\t\t\t\t\t\t\t\t\t\t\td.y + 16,\n\t\t\t\t\t\t\t\t\t\t\t\tMath.abs(\n\t\t\t\t\t\t\t\t\t\t\t\t\tminiNN.model[i][j].dActStep\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tminiNN.model[i][j].dActStep < 0,\n\t\t\t\t\t\t\t\t\t\t\t\tcolorOfMotion\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})\n\t\t\t\t\t)}\n\n\t\t\t\t\t<rect\n\t\t\t\t\t\tx={734}\n\t\t\t\t\t\ty={300}\n\t\t\t\t\t\twidth={squareWidth}\n\t\t\t\t\t\theight={squareWidth}\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"black\"\n\t\t\t\t\t></rect>\n\t\t\t\t\t<text\n\t\t\t\t\t\tfontFamily=\"sans-serif\"\n\t\t\t\t\t\tfontSize=\"12px\"\n\t\t\t\t\t\tx={739}\n\t\t\t\t\t\ty={318}\n\t\t\t\t\t>\n\t\t\t\t\t\tloss\n\t\t\t\t\t</text>\n\t\t\t\t</g>\n\t\t\t</svg>\n\t\t);\n\t\treturn <div id=\"nn\">{nn}</div>;\n\t}\n}\n\nexport default NeuralNetworkComponent;\n","import React, { Component } from \"react\";\nimport \"../d3.css\";\nimport * as d3 from \"d3\";\n\nclass ScatterPlot extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tplotPoints(node, formattedPoints, select) {\n\t\t/* Now need to plot said data */\n\t\tnode.selectAll(\"circle\")\n\t\t\t.data(formattedPoints)\n\t\t\t.enter()\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", (d) => d.x)\n\t\t\t.attr(\"cy\", (d) => d.y)\n\t\t\t.attr(\"r\", (_, i) => (i === select ? 5 : 2))\n\t\t\t.style(\"fill\", (_, i) => (i === select ? \"orange\" : \"grey\"));\n\t}\n\t/* This is where we initialize the Scatter Plot */\n\tasync componentDidMount() {\n\t\tconst { width, height, padding, start, stop, id } = this.props;\n\t\tconst container = d3.select(`#nice${id}`);\n\n\t\tconst svg = container\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.style(\"overflow\", \"visible\");\n\t\tsvg.append(\"rect\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.attr(\"class\", \"cord\");\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis);\n\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", 0)\n\t\t\t.attr(\"y1\", (height + 1) / 2)\n\t\t\t.attr(\"x2\", width)\n\t\t\t.attr(\"y2\", (height + 1) / 2)\n\t\t\t.attr(\"class\", \"split\");\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", (width + 1) / 2)\n\t\t\t.attr(\"y1\", 0)\n\t\t\t.attr(\"x2\", (width + 1) / 2)\n\t\t\t.attr(\"y2\", height)\n\t\t\t.attr(\"class\", \"split\");\n\n\t\tsvg.append(\"path\")\n\t\t\t.attr(\"id\", \"epic\")\n\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\tcomponentDidUpdate() {\n\t\tconst {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tpadding,\n\t\t\tstart,\n\t\t\tstop,\n\t\t\tX,\n\t\t\ty,\n\t\t\tyhat,\n\t\t\tid,\n\t\t\tselect,\n\t\t} = this.props;\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = d3.select(`#nice${id}`).select(\"svg\");\n\t\tlet dataSet = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\tdataSet.push({\n\t\t\t\tx: xScale(X[i]),\n\t\t\t\ty: yScale(y[i]),\n\t\t\t});\n\t\t}\n\t\tlet a = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\ta.push([xScale(X[i]), yScale(yhat[i])]);\n\t\t}\n\t\tsvg.selectAll(\"circle\").remove();\n\t\tthis.plotPoints(svg, dataSet, select);\n\n\t\tsvg.select(\"#epic\")\n\t\t\t.transition()\n\t\t\t.duration(this.props.duration)\n\t\t\t.attr(\"d\", d3.line()(a))\n\t\t\t.attr(\"stroke\", \"black\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\n\trender() {\n\t\tconst { id } = this.props;\n\t\treturn <div id={`nice${id}`}></div>;\n\t}\n}\n\nexport default ScatterPlot;\n","import React, { Component } from \"react\";\nimport \"../d3.css\";\nimport * as d3 from \"d3\";\n\nclass AnimatedScatterPlot extends Component {\n\tplotPoints(node, formattedPoints, select) {\n\t\t/* Now need to plot said data */\n\t\tnode.selectAll(\"circle\")\n\t\t\t.data(formattedPoints)\n\t\t\t.enter()\n\t\t\t.append(\"circle\")\n\t\t\t.attr(\"cx\", (d) => d.x)\n\t\t\t.attr(\"cy\", (d) => d.y)\n\t\t\t.attr(\"r\", (_, i) => (i === select ? 5 : 2))\n\t\t\t.style(\"fill\", (_, i) => (i === select ? \"#4BA3C3\" : \"grey\"));\n\t}\n\t/* This will plot the real line and have an animation till it gets into place */\n\tanimateTruePredictions(svg, a) {\n\t\tsvg.select(\"#epic\")\n\t\t\t.transition()\n\t\t\t.duration(1000)\n\t\t\t.ease(d3.easeLinear)\n\t\t\t.attr(\"d\", d3.line()(a))\n\t\t\t.attr(\"stroke\", \"blue\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\n\t/* This is where we initialize the Scatter Plot */\n\tasync componentDidMount() {\n\t\tconst { width, height, padding, start, stop, id } = this.props;\n\t\tconst container = d3.select(`#animatedPlot${id}`);\n\n\t\tconst svg = container\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.style(\"overflow\", \"visible\");\n\t\tsvg.append(\"rect\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.attr(\"class\", \"cord\");\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis);\n\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", 0)\n\t\t\t.attr(\"y1\", (height + 1) / 2)\n\t\t\t.attr(\"x2\", width)\n\t\t\t.attr(\"y2\", (height + 1) / 2)\n\t\t\t.attr(\"class\", \"split\");\n\t\tsvg.append(\"line\")\n\t\t\t.attr(\"x1\", (width + 1) / 2)\n\t\t\t.attr(\"y1\", 0)\n\t\t\t.attr(\"x2\", (width + 1) / 2)\n\t\t\t.attr(\"y2\", height)\n\t\t\t.attr(\"class\", \"split\");\n\n\t\tsvg.append(\"path\")\n\t\t\t.attr(\"id\", \"epic\")\n\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\ta() {\n\t\tconst {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tpadding,\n\t\t\tstart,\n\t\t\tstop,\n\t\t\tX,\n\t\t\ty,\n\t\t\tyhat,\n\t\t\tid,\n\t\t\tselect,\n\t\t\tpotential,\n\t\t} = this.props;\n\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = d3.select(`#animatedPlot${id}`).select(\"svg\");\n\t\tlet dataSet = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\tdataSet.push({\n\t\t\t\tx: xScale(X[i]),\n\t\t\t\ty: yScale(y[i]),\n\t\t\t});\n\t\t}\n\t\tlet realYhat = [];\n\t\tlet zeroArray = [];\n\t\tlet potentialYhat = [];\n\t\tfor (let i = 0; i < X.length; i++) {\n\t\t\tconst xNum = xScale(X[i]);\n\t\t\trealYhat.push([xNum, yScale(yhat[i])]);\n\t\t\tpotentialYhat.push([xNum, yScale(potential[i])]);\n\t\t\tzeroArray.push([xNum, yScale(0)]);\n\t\t}\n\t\tsvg.selectAll(\"circle\").remove();\n\t\tthis.plotPoints(svg, dataSet, select);\n\t\tif (this.props.status === \"reset\") {\n\t\t\tsvg.select(\"#epic\")\n\t\t\t\t.attr(\"id\", \"epic\")\n\t\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t\t.attr(\"fill\", \"none\");\n\t\t} else {\n\t\t\tif (this.props.status === \"real\") {\n\t\t\t\t/* This is how we plot the point */\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.attr(\"d\", d3.line()(zeroArray))\n\t\t\t\t\t.attr(\"stroke\", \"black\")\n\t\t\t\t\t.attr(\"fill\", \"none\");\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(750)\n\t\t\t\t\t.attr(\"d\", d3.line()(realYhat));\n\t\t\t} else if (this.props.status === \"pred\") {\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.attr(\"d\", d3.line()(realYhat))\n\t\t\t\t\t.attr(\"stroke\", \"orangered\")\n\t\t\t\t\t.attr(\"fill\", \"none\");\n\t\t\t\tsvg.select(\"#epic\")\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(750)\n\t\t\t\t\t.attr(\"d\", d3.line()(potentialYhat));\n\t\t\t}\n\t\t}\n\t}\n\tshouldComponentUpdate() {\n\t\treturn !this.props.shouldNotRender;\n\t}\n\n\trender() {\n\t\tthis.a();\n\t\tconst { id } = this.props;\n\t\treturn <div id={`animatedPlot${id}`}></div>;\n\t}\n}\n\nexport default AnimatedScatterPlot;\n","import React, { Component } from \"react\";\nimport \"../d3.css\";\nimport * as d3 from \"d3\";\n\nclass Loss extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\tcomponentDidMount() {\n\t\tconst container = d3.select(\"#sweet\");\n\t\tconst height = 100;\n\t\tconst width = 300;\n\t\tconst padding = 0;\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([0, -1])\n\t\t\t.range([0, width - 2 * padding]);\n\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([1, 1])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = container\n\t\t\t.append(\"svg\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.style(\"overflow\", \"visible\");\n\n\t\tsvg.append(\"rect\")\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height)\n\t\t\t.attr(\"class\", \"cord\");\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"id\", \"x\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis);\n\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"class\", \"axis\")\n\t\t\t.attr(\"id\", \"y\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis.ticks(0));\n\t\tsvg.append(\"path\")\n\t\t\t.attr(\"id\", \"line\")\n\t\t\t.attr(\"stroke\", \"none\")\n\t\t\t.attr(\"fill\", \"none\");\n\t\t//svg.append(\"text\").attr(\"x\", 1).attr(\"y\", -5).text(\"loss:\");\n\t}\n\tcomponentDidUpdate() {\n\t\tconst { lossArray, duration } = this.props;\n\t\tconst height = 100;\n\t\tconst width = 300;\n\t\tconst start = 0;\n\t\tconst stop = lossArray.length - 1;\n\t\tconst padding = 0;\n\t\tlet xScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([start, stop])\n\t\t\t.range([1, width - 2 * padding]);\n\n\t\tlet lossMin = d3.min(lossArray);\n\t\tlet lossMax = d3.max(lossArray);\n\t\tlet yScale = d3\n\t\t\t.scaleLinear()\n\t\t\t.domain([lossMin, lossMax])\n\t\t\t.range([height - 2 * padding, 0]);\n\t\tconst svg = d3.select(\"#sweet\").select(\"svg\");\n\t\tlet a = [];\n\t\tfor (let i = 0; i < lossArray.length; i++) {\n\t\t\ta.push([xScale(i), yScale(lossArray[i])]);\n\t\t}\n\n\t\tlet xAxis = d3.axisBottom().scale(xScale);\n\t\tlet yAxis = d3.axisRight().scale(yScale);\n\t\tsvg.select(\"#x\")\n\t\t\t.attr(\"transform\", `translate(0,${height - 2 * padding})`)\n\t\t\t.call(xAxis.ticks(5));\n\n\t\tsvg.select(\"#y\")\n\t\t\t.attr(\"transform\", \"translate(\" + (width - 2 * padding) + \",0)\")\n\t\t\t.call(yAxis.ticks(5));\n\t\tsvg.select(\"#line\")\n\t\t\t.transition()\n\t\t\t.duration(duration)\n\t\t\t.attr(\"d\", d3.line()(a))\n\t\t\t.attr(\"stroke\", \"black\")\n\t\t\t.attr(\"fill\", \"none\");\n\t}\n\trender() {\n\t\treturn <div id=\"sweet\"></div>;\n\t}\n}\n\nexport default Loss;\n","import \"katex/dist/katex.min.css\";\nimport { InlineMath, BlockMath } from \"react-katex\";\n\nexport const $ = (inlineLaTeX) => <InlineMath math={inlineLaTeX} />;\nexport const $$ = (blockLaTeX) => <BlockMath math={blockLaTeX} />;\n","export default __webpack_public_path__ + \"static/media/structMan.c5ceb161.svg\";","export default __webpack_public_path__ + \"static/media/structArt.5830dcf2.svg\";","export default __webpack_public_path__ + \"static/media/structNN.a9efe2ac.svg\";","export default __webpack_public_path__ + \"static/media/structLin.0d34ce16.svg\";","export default __webpack_public_path__ + \"static/media/structAck.485489c4.svg\";","import React from \"react\";\nimport { scroller } from \"react-scroll\";\nimport { Box, Button } from \"@material-ui/core\";\nimport structManSVG from \"./assets/navSVG/structMan.svg\";\nimport structArtSVG from \"./assets/navSVG/structArt.svg\";\nimport structNNSVG from \"./assets/navSVG/structNN.svg\";\nimport structLinSVG from \"./assets/navSVG/structLin.svg\";\nimport structAckSVG from \"./assets/navSVG/structAck.svg\";\n\nexport const Nav = () => {\n\tconst backgroundColor = \"primary\";\n\treturn (\n\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t<Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tscroller.scrollTo(\"article\", {\n\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor={backgroundColor}\n\t\t\t\t\t>\n\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t<img alt=\"article\" src={structArtSVG} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tscroller.scrollTo(\"structMan\", {\n\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\t\toffset: -100,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor={backgroundColor}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img alt=\"manual\" src={structManSVG} />{\" \"}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tscroller.scrollTo(\"structLin\", {\n\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\t\toffset: -100,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor={backgroundColor}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img alt=\"auto\" src={structLinSVG} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tscroller.scrollTo(\"mainTool\", {\n\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\t\toffset: -240,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor={backgroundColor}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img alt=\"backprop\" src={structNNSVG} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t\t<Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tscroller.scrollTo(\"acknowledgements\", {\n\t\t\t\t\t\t\t\tduration: 1500,\n\t\t\t\t\t\t\t\tdelay: 100,\n\t\t\t\t\t\t\t\tsmooth: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcolor={backgroundColor}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img alt=\"acknowledgements\" src={structAckSVG} />\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nclass ContourLoss extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twidth: 400,\n\t\t\theight: 400,\n\t\t};\n\t}\n\tasync componentDidMount() {\n\t\tconst { width, height } = await this.state;\n\t\tconst svg = d3.select(\"#divContour\").select(\"#contour\");\n\t\tconst { data, darkness } = await this.props;\n\t\tlet n = width,\n\t\t\tm = height,\n\t\t\tvalues = new Array(n * m);\n\n\t\tfor (let j = 0.5, k = 0; j < m; ++j) {\n\t\t\tfor (let i = 0.5; i < n; ++i, ++k) {\n\t\t\t\tvalues[k] = loss((i / n) * 10 - 5, (j / m) * 20);\n\t\t\t}\n\t\t}\n\n\t\tfunction loss(m, b) {\n\t\t\tlet x = data.X,\n\t\t\t\ty = data.y;\n\t\t\tlet summed = 0;\n\t\t\tfor (let i = 0; i < data.X.length; i++) {\n\t\t\t\tsummed += Math.pow(m * x[i] + b - y[i], 2);\n\t\t\t}\n\t\t\treturn summed / (2 * x.length);\n\t\t}\n\t\tlet thresholds = await d3\n\t\t\t.range(darkness, 20, 1)\n\t\t\t.map((i) => Math.pow(2, i));\n\t\tlet color = d3.scaleSequentialLog(\n\t\t\td3.extent(thresholds),\n\t\t\td3.interpolateCool\n\t\t);\n\t\tconst contours = d3.contours().size([n, m]).thresholds(thresholds)(\n\t\t\tvalues\n\t\t);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"fill\", \"none\")\n\t\t\t.selectAll(\"path\")\n\t\t\t.data(contours)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"fill\", (d) => color(d.value))\n\t\t\t.attr(\"d\", d3.geoPath());\n\n\t\tsvg.append(\"circle\")\n\t\t\t.attr(\"cx\", width / 2)\n\t\t\t.attr(\"cy\", 0)\n\t\t\t.attr(\"r\", 5)\n\t\t\t.style(\"fill\", \"none\")\n\t\t\t.style(\"stoke\", \"none\");\n\t}\n\tcomponentDidUpdate() {\n\t\tconst { width, height } = this.state;\n\t\tconst { loss, ms, m, b } = this.props;\n\t\tconst svg = d3.select(\"#divContour\").select(\"#contour\");\n\t\tif (loss == null) {\n\t\t\tsvg.select(\"circle\")\n\t\t\t\t.attr(\"cx\", width / 2)\n\t\t\t\t.attr(\"cy\", 0)\n\t\t\t\t.attr(\"r\", 5)\n\t\t\t\t.style(\"fill\", \"none\")\n\t\t\t\t.style(\"stroke\", \"none\");\n\t\t\treturn;\n\t\t}\n\t\tif (loss < 1000) {\n\t\t\tsvg.select(\"circle\")\n\t\t\t\t.transition()\n\t\t\t\t.duration(200 - ms)\n\t\t\t\t.attr(\"cx\", width / 2 + (m / 10) * width)\n\t\t\t\t.attr(\"cy\", (b / 20) * height)\n\t\t\t\t.attr(\"r\", loss * 2 + 5)\n\t\t\t\t.style(\"fill\", \"red\")\n\t\t\t\t.style(\"opacity\", \"0.5\");\n\t\t}\n\t}\n\trender() {\n\t\tconst { width, height } = this.state;\n\t\treturn (\n\t\t\t<div id=\"divContour\">\n\t\t\t\t<svg style={{ width, height }} id=\"contour\"></svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ContourLoss;\n","import React, { Component } from \"react\";\nimport ContourLoss from \"./ContourLoss\";\nimport { ScatterPlot } from \"../../exports\";\n\nimport {\n\tFab,\n\tIconButton,\n\tBox,\n\tCard,\n\tCardContent,\n\tTypography,\n} from \"@material-ui/core\";\nimport { PlayArrow, Stop, Replay, SlowMotionVideo } from \"@material-ui/icons\";\nimport * as tf from \"@tensorflow/tfjs\";\n\nclass SubTool extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tyhat: [],\n\t\t\tdarkness: -8,\n\t\t\tplayButton: true,\n\t\t\tlinreg: {\n\t\t\t\tmeanSquaredError: 0,\n\t\t\t\trsquared: null,\n\t\t\t\tdata: {\n\t\t\t\t\tX: [],\n\t\t\t\t\ty: [],\n\t\t\t\t},\n\t\t\t\thyperparams: {\n\t\t\t\t\tlearningRate: 0.03,\n\t\t\t\t\tepochs: 0,\n\t\t\t\t\tloss: null,\n\t\t\t\t\tspeed: 200,\n\t\t\t\t},\n\t\t\t\ttunableparams: {\n\t\t\t\t\tm: 0,\n\t\t\t\t\tb: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t\tthis.generateData = this.generateData.bind(this);\n\t\tthis.linearRegression = this.linearRegression.bind(this);\n\t\tthis.a = this.a.bind(this);\n\t\tthis.handleSlider = this.handleSlider.bind(this);\n\t\tthis.reset = this.reset.bind(this);\n\t}\n\n\treset() {\n\t\tthis.generateData();\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tplayButton: true,\n\t\t\tlinreg: {\n\t\t\t\t...this.state.linreg,\n\t\t\t\trsquared: null,\n\t\t\t\thyperparams: {\n\t\t\t\t\t...this.state.linreg.hyperparams,\n\t\t\t\t\tepochs: 0,\n\t\t\t\t\tloss: null,\n\t\t\t\t},\n\t\t\t\ttunableparams: {\n\t\t\t\t\tm: 0,\n\t\t\t\t\tb: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\tgenerateData() {\n\t\ttf.tidy(() => {\n\t\t\tconst yhat = [0, 0, 0, 0, 0, 0];\n\t\t\tconst X = [0, 1, 2, 3, 4, 5];\n\t\t\tconst y = [5, 4, 3, 2, 1, 0];\n\t\t\tconst yTensor = tf.tensor(y);\n\n\t\t\tconst mean = tf.mean(yTensor).dataSync()[0];\n\t\t\tconst meanSquaredError =\n\t\t\t\t(1 / (X.length * 2)) *\n\t\t\t\ttf.sum(tf.pow(tf.sub(mean, yTensor), 2)).dataSync()[0];\n\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tyhat,\n\t\t\t\tlinreg: {\n\t\t\t\t\t...this.state.linreg,\n\t\t\t\t\tmeanSquaredError,\n\t\t\t\t\tdata: { X, y },\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tlinearRegression() {\n\t\ttf.tidy(() => {\n\t\t\tif (this.state.linreg.hyperparams.epochs > 1000) {\n\t\t\t\tthis.setState({ playButton: !this.state.playButton });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//hypothesis function\n\t\t\tlet { m, b } = this.state.linreg.tunableparams;\n\t\t\tlet { learningRate } = this.state.linreg.hyperparams;\n\t\t\tconst { X, y } = this.state.linreg.data;\n\t\t\tconst XTensor = tf.tensor(X);\n\t\t\tconst yTensor = tf.tensor(y);\n\n\t\t\tlet yPred = h(XTensor, m, b);\n\t\t\tlet len = XTensor.shape[0];\n\t\t\tfunction h(X, m, b) {\n\t\t\t\treturn tf.add(tf.mul(X, m), b);\n\t\t\t}\n\t\t\t//Define the loss function\n\t\t\tfunction loss(y, y_pred) {\n\t\t\t\treturn (\n\t\t\t\t\t(1 / (2 * len)) *\n\t\t\t\t\ttf.sum(tf.pow(tf.sub(y_pred, y), 2)).dataSync()[0]\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//then compute the gradient\n\t\t\tconst dlossdm =\n\t\t\t\t(1 / len) *\n\t\t\t\ttf.sum(tf.mul(tf.sub(yPred, yTensor), XTensor)).dataSync()[0];\n\t\t\tconst dlossdb =\n\t\t\t\t(1 / len) * tf.sum(tf.sub(yPred, yTensor)).dataSync()[0];\n\t\t\tconst lossValue = loss(yTensor, yPred);\n\n\t\t\t//gradient descent by updating the m and b\n\t\t\tm += -learningRate * dlossdm;\n\t\t\tb += -learningRate * dlossdb;\n\t\t\tconst rsquared = 1 - lossValue / this.state.linreg.meanSquaredError;\n\t\t\tconst epochs = this.state.linreg.hyperparams.epochs + 1;\n\t\t\tconst yhat = Array.from(yPred.dataSync());\n\t\t\tthis.setState({\n\t\t\t\t...this.state,\n\t\t\t\tyhat,\n\t\t\t\tlinreg: {\n\t\t\t\t\t...this.state.linreg,\n\t\t\t\t\trsquared,\n\t\t\t\t\ttunableparams: { m, b },\n\t\t\t\t\thyperparams: {\n\t\t\t\t\t\t...this.state.linreg.hyperparams,\n\t\t\t\t\t\tepochs: epochs,\n\t\t\t\t\t\tloss: lossValue,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t}\n\tasync a() {\n\t\tconst timer = (ms) => new Promise((res) => setTimeout(res, ms));\n\t\tconst upperBounds = 200;\n\t\twhile (true) {\n\t\t\tconst { speed } = this.state.linreg.hyperparams;\n\t\t\tconst changeSpeed = upperBounds - speed;\n\t\t\tawait this.linearRegression();\n\t\t\t//await this.forceUpdate();\n\t\t\tawait timer(changeSpeed);\n\t\t\tif (this.state.playButton === true) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\thandleSlider(event, value) {\n\t\tthis.setState({\n\t\t\tlinreg: {\n\t\t\t\t...this.state.linreg,\n\t\t\t\thyperparams: {\n\t\t\t\t\t...this.state.linreg.hyperparams,\n\t\t\t\t\tspeed: value,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}\n\n\tasync componentDidMount() {\n\t\tawait this.generateData();\n\t}\n\n\trender() {\n\t\tconst { m, b } = this.state.linreg.tunableparams;\n\t\tconst { loss, speed, epochs } = this.state.linreg.hyperparams;\n\t\tconst { data } = this.state.linreg;\n\t\tconst nullColor = (val) => (val === null ? \"#dce0dd\" : \"black\");\n\t\tconst nullNumber = (num, precision) =>\n\t\t\tnum === null ? num : num.toPrecision(precision);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Box display=\"flex\" justifyContent=\"center\" marginTop={2}>\n\t\t\t\t\t<Box marginTop={10} marginRight={10}>\n\t\t\t\t\t\t<ScatterPlot\n\t\t\t\t\t\t\twidth={400}\n\t\t\t\t\t\t\theight={400}\n\t\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\t\tstart={0}\n\t\t\t\t\t\t\tstop={5}\n\t\t\t\t\t\t\tX={data.X}\n\t\t\t\t\t\t\ty={data.y}\n\t\t\t\t\t\t\tyhat={this.state.yhat}\n\t\t\t\t\t\t\tid={420}\n\t\t\t\t\t\t\tselect={-1}\n\t\t\t\t\t\t\tduration={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<h2>Auto Best Fit</h2>\n\t\t\t\t\t\t\t<Typography variant=\"h4\" component=\"h2\">\n\t\t\t\t\t\t\t\tEPOCH: {epochs}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\tcomponent=\"h2\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: nullColor(loss),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{` loss = ${nullNumber(loss, 10)}`}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<IconButton onClick={this.reset}>\n\t\t\t\t\t\t\t\t<Replay />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackground: this.state.playButton\n\t\t\t\t\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t\t\t\t\t: \"#D62839\",\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\tawait this.setState({\n\t\t\t\t\t\t\t\t\t\tplayButton: !this.state.playButton,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tawait this.a();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisableTouchRipple\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{this.state.playButton ? (\n\t\t\t\t\t\t\t\t\t<PlayArrow />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Stop />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Fab>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: speed === 200 ? \"grey\" : \"#FFC006\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tlinreg: {\n\t\t\t\t\t\t\t\t\t\t\t...this.state.linreg,\n\t\t\t\t\t\t\t\t\t\t\thyperparams: {\n\t\t\t\t\t\t\t\t\t\t\t\t...this.state.linreg\n\t\t\t\t\t\t\t\t\t\t\t\t\t.hyperparams,\n\t\t\t\t\t\t\t\t\t\t\t\tspeed:\n\t\t\t\t\t\t\t\t\t\t\t\t\tspeed === 200 ? 120 : 200,\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SlowMotionVideo />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</CardContent>\n\n\t\t\t\t\t\t<ContourLoss\n\t\t\t\t\t\t\tms={speed}\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tm={isFinite(m) ? m : 0}\n\t\t\t\t\t\t\tb={isFinite(b) ? b : 0}\n\t\t\t\t\t\t\tloss={loss}\n\t\t\t\t\t\t\tdarkness={this.state.darkness}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SubTool;\n","import { Box, Card, CardContent, Slider, Button } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { ScatterPlot } from \"../../exports\";\nimport { $ } from \"./Typeset\";\nimport * as tf from \"@tensorflow/tfjs\";\n\nclass LinearScatter extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tweight: -0.82,\n\t\t\tbias: -0.02,\n\t\t\tloss: 0,\n\t\t\tdomain: [],\n\t\t\trange: [],\n\t\t\tline: [],\n\t\t\tshow: false,\n\t\t\twidth: 400,\n\t\t\tbiasColor: \"#FFA500\",\n\t\t\tweightColor: \"#56A8C7\",\n\t\t\tlossColor: \"red\",\n\t\t};\n\t}\n\t//Define the loss function\n\tloss(y, y_pred, len) {\n\t\tconst outputLoss = tf.tidy(() => {\n\t\t\tconst yTensor = tf.tensor(y);\n\t\t\tconst y_predTensor = tf.tensor(y_pred);\n\t\t\tconst compute =\n\t\t\t\t(1 / (2 * len)) *\n\t\t\t\ttf.sum(tf.pow(tf.sub(y_predTensor, yTensor), 2)).dataSync()[0];\n\t\t\treturn compute;\n\t\t});\n\t\treturn outputLoss;\n\t}\n\tcomputeLine(weight, bias, domain) {\n\t\tconst line = (X) => weight * X + bias;\n\t\tlet output = new Array(domain.length);\n\t\tfor (let i = 0; i < domain.length; i++) {\n\t\t\toutput[i] = line(domain[i]);\n\t\t}\n\t\treturn output;\n\t}\n\tzeros(length) {\n\t\tlet array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) array[i] = 0;\n\t\treturn array;\n\t}\n\trange(start, stop, increment) {\n\t\tlet array = [];\n\t\tfor (let i = start; i <= stop; i += increment) array.push(i);\n\t\treturn array;\n\t}\n\tdataGenerator() {\n\t\tconst initDomain = this.range(-1, 1, 0.1);\n\t\tconst initRange = this.computeLine(0.65, -0.3, initDomain);\n\t\tconst initLine = this.computeLine(\n\t\t\tthis.state.weight,\n\t\t\tthis.state.bias,\n\t\t\tinitDomain\n\t\t);\n\t\tconst loss = this.loss(initRange, initLine, initRange.length);\n\t\tthis.setState({\n\t\t\tdomain: initDomain,\n\t\t\trange: initRange,\n\t\t\tline: initLine,\n\t\t\tloss,\n\t\t});\n\t}\n\tcomponentDidMount() {\n\t\tthis.dataGenerator();\n\t}\n\trender() {\n\t\tconst {\n\t\t\tdomain,\n\t\t\trange,\n\t\t\tbias,\n\t\t\tweight,\n\t\t\tline,\n\t\t\tloss,\n\t\t\tshow,\n\t\t\twidth,\n\t\t\tweightColor,\n\t\t\tbiasColor,\n\t\t\tlossColor,\n\t\t} = this.state;\n\t\treturn (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t<Box style={{ filter: `blur(${show ? 0 : 25}px)` }}>\n\t\t\t\t\t<ScatterPlot\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={width}\n\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\tstart={-1}\n\t\t\t\t\t\tstop={1}\n\t\t\t\t\t\tX={domain}\n\t\t\t\t\t\ty={range}\n\t\t\t\t\t\tyhat={line}\n\t\t\t\t\t\tid={69}\n\t\t\t\t\t\tselect={-1}\n\t\t\t\t\t\tduration={0}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\n\t\t\t\t<Box marginLeft={7}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<h2>Manual Best Fit</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tManually tune{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: weightColor }}>weight</em>{\" \"}\n\t\t\t\t\t\t\t\tand <em style={{ color: biasColor }}>bias</em>{\" \"}\n\t\t\t\t\t\t\t\tand try to reach a{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: lossColor }}>loss</em> of 0\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tstyle={{ color: weightColor }}\n\t\t\t\t\t\t\t\tvalue={weight}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tconst newLine = this.computeLine(\n\t\t\t\t\t\t\t\t\t\tweight,\n\t\t\t\t\t\t\t\t\t\tbias,\n\t\t\t\t\t\t\t\t\t\tdomain\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst loss = this.loss(\n\t\t\t\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\t\t\t\tnewLine,\n\t\t\t\t\t\t\t\t\t\trange.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tweight: n,\n\t\t\t\t\t\t\t\t\t\tline: newLine,\n\t\t\t\t\t\t\t\t\t\tloss,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmin={-1}\n\t\t\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\t\t></Slider>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tstyle={{ color: biasColor }}\n\t\t\t\t\t\t\t\tvalue={bias}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tconst newLine = this.computeLine(\n\t\t\t\t\t\t\t\t\t\tweight,\n\t\t\t\t\t\t\t\t\t\tbias,\n\t\t\t\t\t\t\t\t\t\tdomain\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tconst loss = this.loss(\n\t\t\t\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\t\t\t\tnewLine,\n\t\t\t\t\t\t\t\t\t\trange.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tbias: n,\n\t\t\t\t\t\t\t\t\t\tline: newLine,\n\t\t\t\t\t\t\t\t\t\tloss,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmin={-1}\n\t\t\t\t\t\t\t\tstep={0.01}\n\t\t\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\t\t\tmax={1}\n\t\t\t\t\t\t\t></Slider>\n\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t{$(\"\\\\text{neuron}(x) = \")}{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: weightColor }}>\n\t\t\t\t\t\t\t\t\t{$(`${weight}`)}\n\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t{$(\"x + \")}{\" \"}\n\t\t\t\t\t\t\t\t<em style={{ color: biasColor }}>\n\t\t\t\t\t\t\t\t\t{$(`${bias}`)}\n\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\t<i style={{ color: lossColor }}>loss</i>{\" \"}\n\t\t\t\t\t\t\t\t{$(\n\t\t\t\t\t\t\t\t\t` = \\\\frac{1}{J}\\\\sum_{i = 1}^J (\\\\hat{y_i} - y_i)^2 =`\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<em style={{ color: lossColor }}>\n\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t{$(`${loss.toFixed(7)}`)}\n\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"#155676\",\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({ show: !this.state.show });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClick to Reveal Graph\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\nexport default LinearScatter;\n","import React, { Component } from \"react\";\nimport {\n\tTypography,\n\tSlider,\n\tBox,\n\tCard,\n\tCardContent,\n\tCardActions,\n\tButton,\n} from \"@material-ui/core\";\n\nclass NestedFunction extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tinput: 0,\n\t\t\toutput1: 0,\n\t\t\toutput2: 0,\n\t\t\toutput3: 0,\n\t\t\tweights: [],\n\t\t\tbiases: [],\n\t\t};\n\t\tthis.compute = this.compute.bind(this);\n\t\tthis.initParams = this.initParams.bind(this);\n\t}\n\tcompute(input) {\n\t\tconst { weights, biases } = this.state;\n\t\tconst linfunc = (x, w, b) => w * x + b;\n\n\t\tconst output1 = linfunc(input, weights[0], biases[0]).toFixed(3);\n\t\tconst output2 = linfunc(output1, weights[1], biases[1]).toFixed(3);\n\t\tconst output3 = linfunc(output2, weights[2], biases[2]).toFixed(3);\n\t\tthis.setState({ input, output1, output2, output3 });\n\t}\n\tgenRandomArray(length) {\n\t\tlet arr = new Array(length);\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tarr[i] = +Math.random().toFixed(2);\n\t\t}\n\t\treturn arr;\n\t}\n\tasync initParams() {\n\t\tconst weights = this.genRandomArray(3);\n\t\tconst biases = this.genRandomArray(3);\n\t\tthis.setState({ weights, biases });\n\t}\n\tasync componentDidMount() {\n\t\tawait this.initParams();\n\t\tthis.compute(34);\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tinput,\n\t\t\toutput1,\n\t\t\toutput2,\n\t\t\toutput3,\n\t\t\tweights,\n\t\t\tbiases,\n\t\t} = this.state;\n\t\tconst fixedInput = input.toFixed(3);\n\t\tconst outputArr = [\n\t\t\t{ output: output1, color: \"#8db600\" },\n\t\t\t{ output: output2, color: \"#FF8F00\" },\n\t\t\t{ output: output3, color: \"#56A8C7\" },\n\t\t];\n\n\t\t//prettier-ignore\n\t\treturn (\n\t\t\t<Box display=\"flex\">\n\t\t\t\t<Box width={580}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\t\t\tonChange={(e, n) => {\n\t\t\t\t\t\t\t\t\tthis.compute(n);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t></Slider>\n\n\t\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t\t<Box justifyContent=\"center\">\n\t\t\t\t\t\t\t\t\t<svg width={500} height={64}>\n\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\td={`M${36} 16, ${100} 16`}\n\t\t\t\t\t\t\t\t\t\t\tstroke={\"#f50557\"}\n\t\t\t\t\t\t\t\t\t\t\tstrokeDasharray=\"25, 4\"\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={3 * weights[0] + 0.2}\n\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t<text x={40} y={40} fill={\"#f50557\"}>\n\t\t\t\t\t\t\t\t\t\t\t{fixedInput}\n\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t{outputArr.map((d, i) => (\n\t\t\t\t\t\t\t\t\t\t\t<g key={i} >\n\t\t\t\t\t\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\t\t\t\t\t\tx={100 + 100 * i}\n\t\t\t\t\t\t\t\t\t\t\t\t\ty={0}\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth={32}\n\t\t\t\t\t\t\t\t\t\t\t\t\theight={32}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"lightgrey\"\n\t\t\t\t\t\t\t\t\t\t\t\t></rect>\n\t\t\t\t\t\t\t\t\t\t\t\t<text x={111 + 100 * i} y={22}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{i + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\td={`M${132 + 100 * i} 16, ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t200 + 100 * i\n\t\t\t\t\t\t\t\t\t\t\t\t\t} 16`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstroke={d.color}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeDasharray=\"25, 4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tstrokeWidth={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti < 2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 3 *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tweights[\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti + 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t] +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  0.2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\t\t\t\tx={140 + 100 * i}\n\t\t\t\t\t\t\t\t\t\t\t\t\ty={40}\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill={d.color}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{d.output}\n\t\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\tneuron1(\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\" variant=\"inherit\">\n\t\t\t\t\t\t\t\t\t{fixedInput}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) = {weights[0]}(\n\t\t\t\t\t\t\t\t<Typography color=\"secondary\" variant=\"inherit\">\n\t\t\t\t\t\t\t\t\t{fixedInput}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) + {biases[0]} ={\" \"}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#8db600\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output1}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\tneuron2(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#8db600\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output1}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) = {weights[1]}(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#8db600\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output1}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) + {biases[1]} ={\" \"}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8F00\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output2}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">\n\t\t\t\t\t\t\t\tneuron3(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8F00\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output2}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t) = {weights[2]}(\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#FF8F00\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output2}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t) + {biases[2]} ={\" \"}\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"#56A8C7\" }}\n\t\t\t\t\t\t\t\t\tvariant=\"inherit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.output3}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\tawait this.initParams();\n\t\t\t\t\t\t\t\t\t//this.compute(this.state.input);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tnew Weights and biases\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n}\n\nexport default NestedFunction;\n","export default __webpack_public_path__ + \"static/media/forward.94373b2e.svg\";","export default __webpack_public_path__ + \"static/media/summary.c45974a2.svg\";","export default __webpack_public_path__ + \"static/media/backward.0c67cde4.svg\";","/* Imports from other files */\nimport React from \"react\";\nimport { $, $$ } from \"./Typeset\";\nimport {\n\tBox,\n\tButton,\n\tTypography,\n\tFab,\n\tTooltip,\n\tCard,\n\tCardContent,\n} from \"@material-ui/core\";\nimport { Help, PlayArrow } from \"@material-ui/icons\";\nimport { Nav } from \"./Nav\";\nimport { Element } from \"react-scroll\";\nimport SubTool from \"./SubTool\";\nimport LinearScatter from \"./LinearScatter\";\nimport NestedFunction from \"./NestedFunction\";\n/* Asset imports */\nimport forwardSVG from \"./assets/forward.svg\";\nimport summarySVG from \"./assets/summary.svg\";\nimport backwardSVG from \"./assets/backward.svg\";\n\n/* Functional Component */\nconst Explanation = () => {\n\tconst orange = \"#FFA500\";\n\tconst blue = \"#56A8C7\";\n\t/* Link Component that can be reused */\n\tconst link = (href, content) => (\n\t\t<Button\n\t\t\tsize=\"small\"\n\t\t\tstyle={{ color: orange }}\n\t\t\thref={href}\n\t\t\ttarget=\"_blank\"\n\t\t\trel=\"noopener noreferrer\"\n\t\t>\n\t\t\t{content}\n\t\t</Button>\n\t);\n\n\tconst definiton = (word, desc) => (\n\t\t<Tooltip\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: \"#56A8C7\",\n\t\t\t\tcolor: \"black\",\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<Card>\n\t\t\t\t\t<CardContent>{desc}</CardContent>\n\t\t\t\t</Card>\n\t\t\t}\n\t\t\tplacement=\"top\"\n\t\t\tarrow\n\t\t>\n\t\t\t{word}\n\t\t</Tooltip>\n\t);\n\n\t/* Topic formatted component */\n\tconst topic = (title) => (\n\t\t<Typography variant=\"h3\">\n\t\t\t<b>{title}</b>\n\t\t</Typography>\n\t);\n\t/* SubTopic formatted component */\n\tconst subtopic = (title) => <Typography variant=\"h4\">{title}</Typography>;\n\n\t/* Explanation paper */\n\tconst paper = (\n\t\t<div>\n\t\t\t<br />\n\t\t\t{topic(\"Jump to a check point\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tIf you want to skip ahead, click on a checkpoint. Otherwise,\n\t\t\t\tclick <b>Article</b> or scroll to the start of the article.\n\t\t\t</Typography>\n\t\t\t<Nav />\n\t\t\t<Element name=\"article\">{topic(\"Introduction\")}</Element>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tMost people abstract the idea of backpropagation when learning\n\t\t\t\tneural networks because it is by far the most notation heavy\n\t\t\t\tpart. The goal of this article is to build an intuition for\n\t\t\t\tbackpropagation in the context of how neural networks{\" \"}\n\t\t\t\t<em>learn</em>. By marrying explanation, notation, and\n\t\t\t\tinteractive tools, the aim is to get a understanding of the\n\t\t\t\tfoundations. Note that throughout the article there will be{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>highlighted</span>,\n\t\t\t\t\t<Typography varaint=\"h6\">Example explanation</Typography>\n\t\t\t\t)}{\" \"}\n\t\t\t\twords that will give extra explanation on mouse over.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{topic(\"Backpropagation on One Neuron\")}\n\t\t\t{subtopic(\"Getting Started\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tThe goal in a neural network, or any optimization problem for\n\t\t\t\tthat matter, is to lower and minimize whatever{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>loss</span>,\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tError between predicted values {$(\"\\\\hat{y}\")} and true\n\t\t\t\t\t\tvalues {$(\"y\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t)}{\" \"}\n\t\t\t\tfunction we define. For this article, we will be performing\n\t\t\t\tregression and using mean squared error loss{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>MSE</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t{$$(\n\t\t\t\t\t\t\t\t\"\\\\text{MSE} = \\\\frac{1}{J}\\\\sum_{i = 1}^{J}(\\\\hat{y_i} - y_i)^2\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t<b>Input Variables</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tlength of data {$(\"J\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tindex {$(\"i\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tpredicted values {$(\"\\\\hat{y}\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\ttrue values {$(\"y\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tBefore hitting the calculus, tune the{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>weight and bias on one neuron</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t{$$(\"\\\\text{neuron}(x) = w_0x + b \")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t<b>Neuron as a Function</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tinput {$(\"x\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\toutput {$(\"\\\\text{neuron}(x)\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<b>Tunable Parameters</b>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tweight {$(\"w_0\")}\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tbias {$(\"b\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}{\" \"}\n\t\t\t\tby sliding the sliders under <b>Manual Best Fit</b>. By\n\t\t\t\tobserving changes in the <em style={{ color: \"red\" }}>loss</em>,\n\t\t\t\ttry to make it reach 0. When you feel like you've lowered the{\" \"}\n\t\t\t\t<em style={{ color: \"red\" }}>loss</em> enough (or need some\n\t\t\t\thelp), press the{\" \"}\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={true}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: \"#155676\",\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tClick to reveal the graph\n\t\t\t\t</Button>{\" \"}\n\t\t\t\tbutton below.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t<Element name=\"structMan\">\n\t\t\t\t<LinearScatter />\n\t\t\t</Element>\n\t\t\t<br />\n\t\t\t{subtopic(\"Reflection\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b>\n\t\t\t\t\tThe intuiton and logic from the exercise above, is the\n\t\t\t\t\tfoundation for what backpropagation and optimization is and\n\t\t\t\t\taims to achieve.\n\t\t\t\t</b>\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t&emsp;&emsp;&emsp;&emsp;When you start to change the weight, you\n\t\t\t\tobserve where the loss moves, if it moves up, you move the\n\t\t\t\tweight the other direction to lower the loss. This, without the\n\t\t\t\tmath, is the main principle behind guaging the rate of change\n\t\t\t\tand optimizing a nerual network.{\" \"}\n\t\t\t\t<b>Let's apply this method of thinking!</b>\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"Defining Backpropagation\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tFirst to get the{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>instantaneous rate of change</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography style={{ color: blue }} variant=\"h6\">\n\t\t\t\t\t\t\t{$$(\"\\\\lim_{h \\\\to 0} \\\\frac{f(x + h) - f(x)}{h}\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"h6\" style={{ color: orange }}>\n\t\t\t\t\t\t\t{$$(\"\\\\frac{df}{dx}\")}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography style={{ color: blue }} variant=\"body1\">\n\t\t\t\t\t\t\tLimit definition of derivative of {$(\"f(x)\")} with\n\t\t\t\t\t\t\trespect to {$(\"x\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography style={{ color: orange }} variant=\"body1\">\n\t\t\t\t\t\t\tNotation for derivative of {$(\"f(x)\")} with respect\n\t\t\t\t\t\t\tto {$(\"x\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t(derivative), we get our point of interest and another point\n\t\t\t\tthat is infinitely close and calculate slope, this can be\n\t\t\t\tvisualized as a tangent line at the point of interest for a\n\t\t\t\tfunction with one variable like {$(\"f(x)\")}.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t&emsp;&emsp;&emsp;&emsp;In the context of our one neuron neural\n\t\t\t\tnetwork, we can compose the whole network as a nested function\n\t\t\t\t{$$(\"\\\\text{loss}(\\\\text{neuron}(x,w,b),y)\")}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tSince want to tune the parameters weight {$(\"w\")} and bias{\" \"}\n\t\t\t\t{$(\"b\")}, we want to know how each parameters will affect the\n\t\t\t\tloss, or in other words, the{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>partial derivative</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography style={{ color: blue }} variant=\"h6\">\n\t\t\t\t\t\t\t{$$(\n\t\t\t\t\t\t\t\t\"\\\\lim_{h \\\\to 0} \\\\frac{f(x + h, y) - f(x,y)}{h}\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"h6\" style={{ color: orange }}>\n\t\t\t\t\t\t\t{$$(\"\\\\frac{\\\\partial f}{\\\\partial x}\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography style={{ color: blue }} variant=\"body1\">\n\t\t\t\t\t\t\tLimit definition of partial derivative of{\" \"}\n\t\t\t\t\t\t\t{$(\"f(x,y)\")} with respect to {$(\"x\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography style={{ color: orange }} variant=\"body1\">\n\t\t\t\t\t\t\tNotation for partial derivative of {$(\"f(x,y)\")}{\" \"}\n\t\t\t\t\t\t\twith respect to {$(\"x\")}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography style={{ color: blue }} variant=\"h6\">\n\t\t\t\t\t\t\t{$$(\n\t\t\t\t\t\t\t\t\"\\\\lim_{h \\\\to 0} \\\\frac{f(x, y + h) - f(x,y)}{h}\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography variant=\"h6\" style={{ color: orange }}>\n\t\t\t\t\t\t\t{$$(\"\\\\frac{\\\\partial f}{\\\\partial y}\")}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography style={{ color: blue }} variant=\"body1\">\n\t\t\t\t\t\t\tLimit definition of partial Derivative of{\" \"}\n\t\t\t\t\t\t\t{$(\"f(x,y)\")} with respect to {$(\"y\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography style={{ color: orange }} variant=\"body1\">\n\t\t\t\t\t\t\tNotation for partial derivative of {$(\"f(x,y)\")}{\" \"}\n\t\t\t\t\t\t\twith respect to {$(\"y\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t. of loss with respect to each parameter, also called the{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>gradient</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t{$$(\n\t\t\t\t\t\t\t\t\"\\\\nabla f(x,y) = \\\\begin{bmatrix} \\\\frac{\\\\partial f}{\\\\partial x} \\\\\\\\[4pt] \\\\frac{\\\\partial f}{\\\\partial y} \\\\\\\\ \\\\end{bmatrix}\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t. After we compute the gradient from getting all the derivatives\n\t\t\t\tbackwards, we will have the direction of steepest{\" \"}\n\t\t\t\t<em>ascent</em> on the loss function. But we want to lower loss,\n\t\t\t\ttherefore we use the opposite direction to get the direction of\n\t\t\t\tsteepest descent, to perform{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>gradient descent</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t{$(\n\t\t\t\t\t\t\t\t\"\\\\text{param} := \\\\text{param} -lr \\\\cdot \\\\frac{\\\\partial \\\\text{loss}}{\\\\partial \\\\text{param}}\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\tSince the gradient of the loss will be the direction\n\t\t\t\t\t\t\tof steepest <em>ascent</em>, by going the opposite\n\t\t\t\t\t\t\tdirection, we go in the direction of steepest{\" \"}\n\t\t\t\t\t\t\t<em>descent</em>. Learning rate lr then decides how\n\t\t\t\t\t\t\tlarge of a step in the direction of steepest descent\n\t\t\t\t\t\t\twould like.\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h4\">\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\nabla \\\\text{loss} = \\\\begin{bmatrix} \\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial w} \\\\\\\\[4pt] \\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial b} \\\\\\\\ \\\\end{bmatrix}\"\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tIn order to calculate these derivatives we must use the chain\n\t\t\t\trule due to the nested nature of neural networks.\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b>Below is a color coded example of the chain rule.</b>\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tStart by sliding the slider and notice how the output is the\n\t\t\t\tinput to the next function and so forth.{\" \"}\n\t\t\t\t<b>Then read the explanation below</b>.\n\t\t\t</Typography>\n\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t<Box>\n\t\t\t\t\t<NestedFunction />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<br />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tSuppose we wanted to see how the{\" \"}\n\t\t\t\t<em style={{ color: \"#F50257\" }}>pink</em> affects the{\" \"}\n\t\t\t\t<em style={{ color: blue }}>blue</em>. We should start at{\" \"}\n\t\t\t\t<em style={{ color: blue }}>blue</em>, then\n\t\t\t\t<ol>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tobserve how <em style={{ color: orange }}>orange</em>{\" \"}\n\t\t\t\t\t\taffects <em style={{ color: blue }}>blue</em>{\" \"}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tobserve how <em style={{ color: \"#8db600\" }}>green</em>{\" \"}\n\t\t\t\t\t\taffects <em style={{ color: orange }}>orange</em>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tobserve how <em style={{ color: \"#F50257\" }}>pink</em>{\" \"}\n\t\t\t\t\t\taffects <em style={{ color: \"#8db600\" }}>green</em>\n\t\t\t\t\t</li>\n\t\t\t\t</ol>\n\t\t\t\tBy chaining those values together, we get how the{\" \"}\n\t\t\t\t<em style={{ color: \"#F50257\" }}>pink</em> affects the{\" \"}\n\t\t\t\t<em style={{ color: blue }}>blue</em>.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tThis logic applied to our one neuron neural network looks like\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial w} = \\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial \\\\text{neuron}} \\\\frac{ \\\\partial \\\\text{neuron}}{\\\\partial w} \"\n\t\t\t\t)}\n\t\t\t\t{$$(\n\t\t\t\t\t\"\\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial b} = \\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial \\\\text{neuron}} \\\\frac{ \\\\partial \\\\text{neuron}}{\\\\partial b} \"\n\t\t\t\t)}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tThese chains can be broken up into more intermediate derivatives\n\t\t\t\tall the way down to their primatives (basis of\n\t\t\t\t{link(\n\t\t\t\t\t\"https://en.wikipedia.org/wiki/Automatic_differentiation\",\n\t\t\t\t\t\"automatic differentiation\"\n\t\t\t\t)}\n\t\t\t\t). <b>The main takeaway</b> is that we first observe how the\n\t\t\t\tneuron output affected the loss output{\" \"}\n\t\t\t\t{$(\n\t\t\t\t\t\" \\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial \\\\text{neuron}}\"\n\t\t\t\t)}\n\t\t\t\t, but then we need to explain how the neuron output was affected\n\t\t\t\tby the parameter{\" \"}\n\t\t\t\t{$(\n\t\t\t\t\t\" \\\\frac{ \\\\partial \\\\text{neuron}}{\\\\partial \\\\text{parameter}}\"\n\t\t\t\t)}{\" \"}\n\t\t\t\tand can combine these to observe how the paramter affected the\n\t\t\t\tloss{\" \"}\n\t\t\t\t{$(\n\t\t\t\t\t\" \\\\frac{ \\\\partial \\\\text{loss}}{\\\\partial \\\\text{parameter}}\"\n\t\t\t\t)}\n\t\t\t\t. And notice how we compute these derivatives going backward,\n\t\t\t\twhich has the added benefit of reusing values computed in the\n\t\t\t\tforward propagation.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"Concrete Example\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tLet's go through a concrete example of a forward and backward\n\t\t\t\tpass. We will define the input as {$(\"x_0 = 2.1\")}, the weight\n\t\t\t\tas {$(\"w_0 = 1\")}, and the bias as {$(\"b = 0\")}. This is just\n\t\t\t\tone training example.\n\t\t\t</Typography>\n\t\t\t<img alt=\"forward pass\" width=\"100%\" src={forwardSVG} />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tNow we can go backwards and compute partial derivatives with the\n\t\t\t\tchain rule to get the gradient {$(\"\\\\nabla \\\\text{loss}\")}\n\t\t\t</Typography>\n\t\t\t<img alt=\"backward pass\" width=\"100%\" src={backwardSVG} />\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t{$$(\"\\\\frac{\\\\partial \\\\text{loss}}{\\\\partial w_0} = -7.98\")}\n\t\t\t\t{$$(\"\\\\frac{\\\\partial \\\\text{loss}}{\\\\partial b} = -3.8\")}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tThen, we update the parameters to opposite gradient to descend\n\t\t\t\tloss ( ), in this case learning rate is {$(\"\\\\text{lr} = 0.01\")}\n\t\t\t\t{$$(\n\t\t\t\t\t\"w_0 := w_0 - \\\\text{lr} \\\\cdot \\\\frac{\\\\partial \\\\text{loss}}{\\\\partial w_0} = (1) - (0.01) \\\\cdot (-7.98) = 1.0798\"\n\t\t\t\t)}\n\t\t\t\t{$$(\n\t\t\t\t\t\"b := b - \\\\text{lr} \\\\cdot \\\\frac{\\\\partial \\\\text{loss}}{\\\\partial b} = (0) - (0.01) \\\\cdot (-3.8) = 0.038 \"\n\t\t\t\t)}\n\t\t\t\tRe calculate forward pass with new weight and bias\n\t\t\t\t{$$(\"\\\\text{loss} = ((1.0798)(2.1) + 0.038) - 4)^2 = 2.87\")}\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tTotal loss savings of {$(\"3.61 - 2.87 = 0.74\")}\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"See it in Action\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tTo see the what we just did (forward, backward, update) on more\n\t\t\t\tdata and on the entire batch as opposed to a single training\n\t\t\t\texample, press{\" \"}\n\t\t\t\t<Fab\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: \"#175676\",\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t}}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t>\n\t\t\t\t\t{<PlayArrow />}\n\t\t\t\t</Fab>{\" \"}\n\t\t\t\tto start the training process under <b>Auto Best Fit</b>. Watch\n\t\t\t\thow as the line gets better fit, the red dot descends the loss\n\t\t\t\tcontour.\n\t\t\t</Typography>\n\t\t\t<Element name=\"structLin\">\n\t\t\t\t<SubTool />\n\t\t\t</Element>\n\t\t\t<br />\n\t\t\t{topic(\"Scaling up Neurons and Layers\")}\n\t\t\t{subtopic(\"The Changes\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\tTo fit more interesting data that is non-linear (e.g. sine wave\n\t\t\t\tor quadratic), we need to add complexity to vary output to make\n\t\t\t\tsure we are not contrained to only linear outputs. We can do\n\t\t\t\tthis by adding more neurons, more layers, and activation\n\t\t\t\tfunctions. If you think of our entire neural network as a\n\t\t\t\tfunction, then by adding more neurons and more layers we are\n\t\t\t\tcreating a more nested function. Not only does this create more\n\t\t\t\tparameters that we can tune to vary the output, it also\n\t\t\t\tmaintains the property of{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>differentiability</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\tThe derivative exists for all inputs\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t: important so we can compute the gradient. And by adding\n\t\t\t\tnon-linear activation functions with points of deactivation,\n\t\t\t\tcertain neurons may have no effect on the output while others\n\t\t\t\tmay become more activated, contributing to outputs that don't\n\t\t\t\thave to follow linear constraints. We will be using the{\" \"}\n\t\t\t\t{definiton(\n\t\t\t\t\t<span>ReLU</span>,\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t<b>Re</b>ctified <b>L</b>inear <b>U</b>nit\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t{$(\n\t\t\t\t\t\t\t\t\" \\\\text{ReLU}(x) = \\\\left\\\\{ \\\\begin{array}{ll} 0 & x\\\\leq 0  \\\\\\\\ x & x > 0 \\\\\\\\ \\\\end{array} \\\\right. \"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t)}{\" \"}\n\t\t\t\tactivation function in the hidden layers.\n\t\t\t</Typography>\n\n\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t<Box>\n\t\t\t\t\t<img alt=\"summary\" src={summarySVG} width=\"100%\" />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b>Above</b> is an example of a neural network with one input,\n\t\t\t\tthree hidden layers with eight neurons each, and one output\n\t\t\t\tneuron. The output of each neuron is fed into the neurons of the\n\t\t\t\tnext layer and so forth (like a nested function). Each link\n\t\t\t\trepresents a weight and a corresponding input into the\n\t\t\t\trespective neuron, notice how the more neurons we add, the more\n\t\t\t\tlinks there are and the more parameters we can tune to get our\n\t\t\t\tdesired output.\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t\t{subtopic(\"Training Process\")}\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<ol>\n\t\t\t\t\t<li>Forward propagation resulting in an output and loss</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tBackward propagation using the chain rule to compute the\n\t\t\t\t\t\tgradient\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>Descend the loss by performing gradient descent</li>\n\t\t\t\t</ol>\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b>\n\t\t\t\t\tThe process doesn't change from the single neuron example!\n\t\t\t\t</b>{\" \"}\n\t\t\t\tSince the network is deeper, we have to calculate more\n\t\t\t\tderivatives going backwards and have to tune more parameters\n\t\t\t\twith gradient descent, but the logic stays the same.\n\t\t\t</Typography>\n\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t&emsp;&emsp;&emsp;&emsp;A great way to visualize backpropagation\n\t\t\t\tin a large network is with vertical arrows representing which\n\t\t\t\tdirection we need to nudge the neuron output in order to lower\n\t\t\t\tloss:{\" \"}\n\t\t\t\t{$(\n\t\t\t\t\t\"-\\\\frac{\\\\partial \\\\text{loss}}{\\\\partial \\\\text{activation} }\"\n\t\t\t\t)}\n\t\t\t</Typography>\n\n\t\t\t<br />\n\t\t\t<Typography variant=\"h4\">\n\t\t\t\t<b>Backprop Tool</b> Quick Start\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<ol>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tPress{\" \"}\n\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tbackground: \"#175676\",\n\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PlayArrow fontSize=\"small\" />\n\t\t\t\t\t\t</Fab>{\" \"}\n\t\t\t\t\t\tto start training\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tThen press{\" \"}\n\t\t\t\t\t\t<Button variant=\"contained\" size=\"small\">\n\t\t\t\t\t\t\tEPOCH\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\tto see backpropagation animation\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\tTo go back to fitting mode click{\" \"}\n\t\t\t\t\t\t<Button variant=\"contained\" size=\"small\">\n\t\t\t\t\t\t\tEPOCH\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\tagain\n\t\t\t\t\t</li>\n\t\t\t\t</ol>\n\t\t\t</Typography>\n\t\t\t<Typography variant=\"h6\">\n\t\t\t\t<b> Click on </b>\n\t\t\t\t<Help variant=\"small\" style={{ color: \"#FFA500\" }} />{\" \"}\n\t\t\t\t<b>to reveal extra descriptions</b>\n\t\t\t</Typography>\n\t\t\t<br />\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<Box justifyContent=\"center\" display=\"flex\">\n\t\t\t<Box maxWidth=\"60%\">{paper}</Box>\n\t\t</Box>\n\t);\n};\nexport default Explanation;\n","export default __webpack_public_path__ + \"static/media/controlcenter.eedf70bb.gif\";","export default __webpack_public_path__ + \"static/media/singleSummary.8525cefd.svg\";","export default __webpack_public_path__ + \"static/media/epochMode.c8cab6a6.png\";","export default __webpack_public_path__ + \"static/media/key.84fb58e0.svg\";","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\tThis is the class definiton and implmentation of Neuron for Nerual Network\n*/\nexport class Neuron {\n\tconstructor(weights, bias) {\n\t\tthis.weights = weights;\n\t\tthis.bias = bias;\n\t}\n\t/* Next functions are just helper functions for the operations */\n\tmult(array1, array2) {\n\t\treturn array1.map((item, i) => {\n\t\t\treturn item * array2[i];\n\t\t});\n\t}\n\tdMult(dvalues, oppositeParameter) {\n\t\treturn this.mult(dvalues, oppositeParameter);\n\t}\n\tsum(array) {\n\t\treturn array.reduce((a, b) => a + b);\n\t}\n\tdSum(dvalue, numInputs) {\n\t\tlet dSumArray = [];\n\t\tfor (let i = 0; i < numInputs; i++) {\n\t\t\tdSumArray.push(dvalue);\n\t\t}\n\t\treturn dSumArray;\n\t}\n\tlinear(input) {\n\t\treturn input;\n\t}\n\n\t/* \n\t\tPurpose: feed forward of single neuron\n\t\t@param: inputs, activation\n\t\t@store inputs, multStep, sumStep, actStep, output\n\t*/\n\tforward(inputs, activation) {\n\t\t/* Destructure the class values */\n\t\tconst { weights, bias } = this;\n\t\tconst { mult, sum } = this;\n\t\t/* propogate forward */\n\t\tconst multStep = mult(inputs, weights);\n\t\tconst sumStep = sum(multStep) + bias;\n\t\tconst actStep = activation(sumStep);\n\n\t\t/* Save values */\n\t\tthis.inputs = inputs;\n\t\tthis.multStep = multStep;\n\t\tthis.sumStep = sumStep;\n\t\tthis.actStep = actStep;\n\t\tthis.output = actStep;\n\t}\n\n\t/* \n\t\tPurpose: feed backward of single neuron\n\t\t@param: dvalue, activation\n\t\t@store inputs, multStep, sumStep, actStep, output\n\t*/\n\tbackward(dvalue, activation) {\n\t\t/* Destructure the class values */\n\t\tconst { inputs, weights, actStep } = this;\n\t\tconst { dSum, mult, sum } = this;\n\t\t/* propgate backwards */\n\t\tconst dActStep = activation(actStep) * dvalue;\n\t\tconst dSumStep = dSum(dActStep, inputs.length);\n\t\tconst dBias = dActStep;\n\t\tconst dWeights = mult(dSumStep, inputs);\n\t\tconst dInputs = mult(dSumStep, weights);\n\t\tconst dInputsSum = sum(dInputs);\n\n\t\t/* Save values */\n\t\tthis.dvalue = dvalue;\n\t\tthis.dActStep = dActStep;\n\t\tthis.dSumStep = dSumStep;\n\t\tthis.dBias = dBias;\n\t\tthis.dWeights = dWeights;\n\t\tthis.dInputs = dInputs;\n\t\tthis.dInputsSum = dInputsSum;\n\t}\n}\n","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\texports the losses to be used for the neural network\n\t\t\n*/\nexport class MeanSquaredErrorLoss {\n\t/* \n\t\tPurpose: feed forward of the nerual network\n\t\t@param yhat, y\n\t\t@stores y, yhat, subStep, squareStep, output\n\t*/\n\tforward(yhat, y) {\n\t\tconst subStep = yhat - y;\n\t\tconst squareStep = (this.output = Math.pow(yhat - y, 2));\n\n\t\tthis.subStep = subStep;\n\t\tthis.squareStep = squareStep;\n\t\tthis.output = squareStep;\n\t}\n\t/* \n\t\tPurpose: feed backward of the nerual network\n\t\t@stores dInputs\n\t*/\n\tbackward() {\n\t\tthis.dInputs = 2 * this.subStep;\n\t}\n}\n","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\tThis creates the definiton and implemntation of the neural network in a non vectorized more manual way \n\t\tdesigned to show all the operations\n\tTODO: add the update that would update to the weights sgd style and compute forward once more to see difference\n*/\nimport { Neuron } from \"./Neuron\";\nimport { MeanSquaredErrorLoss } from \"./Loss\";\nexport class NeuralNetwork {\n\t/* here we construct the Neuron model */\n\tconstructor(shape, weights, biases) {\n\t\tthis.model = [];\n\t\tthis.loss = new MeanSquaredErrorLoss();\n\t\tthis.shape = shape;\n\n\t\t/* HERE WE CONSTRUCT THE MODEL ON CLASS CREATION */\n\t\tfor (let layer = 0; layer < weights.length; layer++) {\n\t\t\tlet dense = [];\n\t\t\tfor (let neuron = 0; neuron < weights[layer].length; neuron++) {\n\t\t\t\tdense.push(\n\t\t\t\t\tnew Neuron(weights[layer][neuron], biases[layer][neuron])\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.model.push(dense);\n\t\t}\n\t}\n\t/* Next are some helper functions */\n\tsum(array) {\n\t\treturn array.reduce((a, b) => a + b);\n\t}\n\tadd(array1, array2) {\n\t\tconst array1Length = array1.length;\n\t\tconst array2Length = array2.length;\n\t\tif (array2Length !== array1Length) {\n\t\t\tconsole.error(\n\t\t\t\t`${array1Length} does not match ${array2Length}, so returned empty array`\n\t\t\t);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tlet result = new Array(array1Length);\n\t\t\tfor (let i = 0; i < array1.length; i++) {\n\t\t\t\tresult[i] = array1[i] + array2[i];\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\tzeros(length) {\n\t\tlet result = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tresult[i] = 0;\n\t\t}\n\t\treturn result;\n\t}\n\tdReLU(input) {\n\t\treturn input > 0 ? 1 : 0;\n\t}\n\tdLinear(input) {\n\t\treturn 1;\n\t}\n\n\tReLU(input) {\n\t\treturn Math.max(0, input);\n\t}\n\n\tlinear(input) {\n\t\treturn input;\n\t}\n\n\t/* \n\t\tPurpose: to feed forward the entire layer\n\t\t@param input, label\n\t\t@store model, yhat, loss\n\t*/\n\tforward(input, label) {\n\t\tlet inputs = [input];\n\t\tconst lastLayer = this.model.length;\n\t\tconst outputNeuron = 0;\n\t\t/* First iterate through each layer */\n\t\tfor (let layer = 0; layer < lastLayer - 1; layer++) {\n\t\t\t/* Then iterate through each neuron in the layer */\n\t\t\tlet outputs = [];\n\t\t\tfor (let neuron = 0; neuron < this.model[layer].length; neuron++) {\n\t\t\t\t/* Then feed forward each individual neuron and push to output array */\n\t\t\t\tthis.model[layer][neuron].forward(inputs, this.ReLU);\n\t\t\t\toutputs.push(this.model[layer][neuron].output);\n\t\t\t}\n\n\t\t\t/* Then outputs will be the inputs for the next layer */\n\t\t\tinputs = outputs;\n\t\t}\n\t\tthis.model[lastLayer - 1][0].forward(inputs, this.linear);\n\t\tthis.yhat = this.model[lastLayer - 1][outputNeuron].output;\n\t\tthis.loss.forward(this.yhat, label);\n\t}\n\t/* \n\t\tPurpose: to feed backward the entire model per layer\n\t*/\n\tbackward() {\n\t\tconst { add, zeros } = this;\n\t\tthis.loss.backward();\n\t\tlet dValues = [this.loss.dInputs];\n\t\tconst lastLayer = this.model.length;\n\t\t/* take care of output neuron */\n\t\tconst outputNeuron = 0;\n\t\tthis.model[lastLayer - 1][outputNeuron].backward(\n\t\t\tdValues[outputNeuron],\n\t\t\tthis.dLinear\n\t\t);\n\t\tdValues = this.model[lastLayer - 1][outputNeuron].dInputs;\n\n\t\t/* We want to start the second to last layer */\n\t\tfor (let layer = lastLayer - 2; layer >= 0; layer--) {\n\t\t\tlet dInputs = zeros(this.model[layer][0].inputs.length);\n\t\t\tfor (let neuron = 0; neuron < this.model[layer].length; neuron++) {\n\t\t\t\tthis.model[layer][neuron].backward(dValues[neuron], this.dReLU);\n\t\t\t\tdInputs = add(dInputs, this.model[layer][neuron].dInputs);\n\t\t\t}\n\t\t\tdValues = dInputs; //we transfer the dInputs into dValues for the next layer back\n\t\t}\n\t}\n\t/* \n\t\tPurpose: to update all the weights using gradient descent\n\t\t@param lr: learning rate\n\t*/\n\tupdate(lr) {\n\t\t/* First create the gradient descent */\n\t\tconst gd = (weight, lr, dweight) => weight - lr * dweight;\n\t\t/* Iterate over the model */\n\t\tfor (let layer = 0; layer < this.model.length; layer++) {\n\t\t\tfor (let neuron = 0; neuron < this.model[layer].length; neuron++) {\n\t\t\t\tfor (\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\ti < this.model[layer][neuron].dWeights.length;\n\t\t\t\t\ti++\n\t\t\t\t) {\n\t\t\t\t\tconst newWeights = gd(\n\t\t\t\t\t\tthis.model[layer][neuron].weights[i],\n\t\t\t\t\t\tlr,\n\t\t\t\t\t\tthis.model[layer][neuron].dWeights[i]\n\t\t\t\t\t);\n\t\t\t\t\tconst newBias = gd(\n\t\t\t\t\t\tthis.model[layer][neuron].bias,\n\t\t\t\t\t\tlr,\n\t\t\t\t\t\tthis.model[layer][neuron].dBias\n\t\t\t\t\t);\n\n\t\t\t\t\t/* Formally update the model weights */\n\t\t\t\t\tthis.model[layer][neuron].weights[i] = newWeights;\n\t\t\t\t\tthis.model[layer][neuron].bias = newBias;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tthrottleForward(neuron, layer, change, label) {\n\t\t/* First Change the value of the output of this neuron */\n\t\tconst calcChange = this.model[layer][neuron].output + change;\n\t\tthis.model[layer][neuron].output = calcChange;\n\n\t\t/* First construct the inputs for the next layer which is made out of the new outputs */\n\t\tlet inputs = [];\n\t\tfor (let n = 0; n < this.model[layer].length; n++) {\n\t\t\tinputs.push(this.model[layer][n].output);\n\t\t}\n\n\t\tconst lastLayer = this.model.length;\n\t\tfor (let l = layer + 1; l < lastLayer - 1; l++) {\n\t\t\t/* Then iterate through each neuron in the layer */\n\t\t\tlet outputs = [];\n\t\t\tfor (let n = 0; n < this.model[l].length; n++) {\n\t\t\t\t/* Then feed forward each individual neuron and push to output array */\n\t\t\t\tthis.model[l][n].forward(inputs, this.ReLU);\n\t\t\t\toutputs.push(this.model[l][n].output);\n\t\t\t}\n\n\t\t\t/* Then outputs will be the inputs for the next layer */\n\t\t\tinputs = outputs;\n\t\t}\n\t\tthis.model[lastLayer - 1][0].forward(inputs, this.linear);\n\t\tthis.yhat = this.model[lastLayer - 1][0].output;\n\t\tthis.loss.forward(this.yhat, label);\n\t}\n}\n","/* \n\tDonny Bertucci: @xnought\n\tSummary: \n\t\tExports some tools that make it easier to deal with the data\n*/\n\n/* \n\tPurpose: format the weight array given from tensorflow\n\t@param uweights (unformatted weights), shape\n\t@return layer (formated weights per layer)\n*/\nexport function formatWeightArray(uweights, shape) {\n\tlet layer = [];\n\t/* Increment over each layer l */\n\tfor (let l = 0; l < uweights.length; l++) {\n\t\t/* First num in shape is input neuron which is why we skip here by adding 1 */\n\t\tlet increment = shape[l + 1];\n\t\tlet weightSet = [];\n\t\t/* Increment over each neuron */\n\t\tfor (let t = 0; t < increment; t++) {\n\t\t\tlet weights = [];\n\t\t\t/* Increment over each weight per neuron */\n\t\t\tfor (let w = t; w < uweights[l].length; w += increment) {\n\t\t\t\tweights.push(uweights[l][w]);\n\t\t\t}\n\t\t\tweightSet.push(weights);\n\t\t}\n\t\tlayer.push(weightSet);\n\t}\n\treturn layer;\n}\n\n/* \n\tPurpose: to turn a 2d array into the same array but fixed to a certian number of numbers/figures\n\t@param arr  (not fixed array), fixed\n\t@return arr (fixed array)\n*/\nexport function toFunc2DArray(arr, fixed) {\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tfor (let e = 0; e < arr[i].length; e++) {\n\t\t\tarr[i][e] = +arr[i][e].toFixed(fixed);\n\t\t}\n\t}\n\treturn arr;\n}\n\n/* \n\tPurpose: Flattens the array\n\t@param array\n\t@return flattenedArray\n*/\nexport function flatten(array) {\n\tlet flattendArray = [];\n\tfor (let i = 0; i < array.length; i++) {\n\t\tfor (let e = 0; e < array[i].length; e++) {\n\t\t\tflattendArray.push(array[i][e]);\n\t\t}\n\t}\n\treturn flattendArray;\n}\n\n/* \n\tPurpose: generate random integer from 0 to given paramter\n\t@param max\n\t@return Number [0,max)\n*/\nexport function getRandomInt(max) {\n\treturn Math.floor(Math.random() * Math.floor(max));\n}\n\n/* \n\tPurpose: turn tensor to array\n\t@param tensor \n\t@return array\n*/\nexport function tensorToArray(tensor) {\n\treturn Array.from(tensor.dataSync());\n}\n","import * as d3 from \"d3\";\n\nexport function generateLinearScale(x, y) {\n\tconst xScale = d3.scaleLinear().domain(x.domain).range(x.range);\n\tconst yScale = d3.scaleLinear().domain(y.domain).range(y.range);\n\treturn { xScale, yScale };\n}\n\nexport function generateLink(adjustment) {\n\treturn d3\n\t\t.linkHorizontal()\n\t\t.x((d) => d.x + adjustment)\n\t\t.y((d) => d.y + adjustment);\n}\n\nexport function generateNeuronPlacement(\n\tshape,\n\tlayerProportion,\n\tsquareWidth,\n\tstartNeuron,\n\tstopNeuron,\n\txScale,\n\tyScale\n) {\n\tlet shapedNeurons = [];\n\tlet flattenedNeurons = [];\n\tshapedNeurons.push([startNeuron]);\n\tflattenedNeurons.push(startNeuron);\n\n\tfor (let layer = 1; layer < shape.length - 1; layer++) {\n\t\tlet dense = [];\n\t\tfor (let neuron = 0; neuron < shape[layer]; neuron++) {\n\t\t\tconst coordinate = {\n\t\t\t\tx: xScale(layerProportion[layer]) - squareWidth / 2,\n\t\t\t\ty: yScale(92 - neuron * 12) - squareWidth / 2,\n\t\t\t};\n\t\t\t// push to arrays\n\t\t\tdense.push(coordinate);\n\t\t\tflattenedNeurons.push(coordinate);\n\t\t}\n\t\tshapedNeurons.push(dense);\n\t}\n\n\tflattenedNeurons.push(stopNeuron);\n\tshapedNeurons.push([stopNeuron]);\n\n\treturn { flattenedNeurons, shapedNeurons };\n}\n\nexport function generateLinksPlacement(shape, shapedNeurons, linksGenerator) {\n\t/* We start to iterate over ns */\n\tlet perLink = [];\n\tlet layerLinks = [];\n\tlet neuronLinks = [];\n\tfor (let layer = 1; layer < shape.length; layer++) {\n\t\tneuronLinks = [];\n\t\tfor (let neuron = 0; neuron < shape[layer]; neuron++) {\n\t\t\tperLink = [];\n\t\t\tfor (\n\t\t\t\tlet nextNeuron = 0;\n\t\t\t\tnextNeuron < shape[layer - 1];\n\t\t\t\tnextNeuron++\n\t\t\t) {\n\t\t\t\tperLink.push(\n\t\t\t\t\tlinksGenerator({\n\t\t\t\t\t\tsource: shapedNeurons[layer - 1][nextNeuron],\n\t\t\t\t\t\ttarget: shapedNeurons[layer][neuron],\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tneuronLinks.push(perLink);\n\t\t}\n\t\tlayerLinks.push(neuronLinks);\n\t}\n\n\treturn layerLinks;\n}\n","/* \n  @author: Donny Bertucci: xnought\n  Summary: \n\tMainTool.js is the main controller of all logic of the backprop explainer\n*/\n\n/*  START IMPORTS  */\nimport React, { Component } from \"react\";\nimport * as tf from \"@tensorflow/tfjs\";\nimport AnimatedNumber from \"animated-number-react\";\nimport {\n\tNeuralNetworkComponent,\n\tScatterPlot,\n\tLoss,\n\tAnimatedScatterPlot,\n\tSummary,\n} from \"../../exports\";\nimport {\n\tTypography,\n\tBox,\n\tCard,\n\tCardContent,\n\tIconButton,\n\tCardActions,\n\tChip,\n\tButton,\n\tFab,\n\tTooltip,\n\tDialog,\n\tDialogContent,\n\tDialogActions,\n} from \"@material-ui/core\";\nimport {\n\tReplay,\n\tFastForward,\n\tPlayArrow,\n\tStop,\n\tHelp,\n\tClose,\n} from \"@material-ui/icons\";\nimport controlGif from \"./assets/controlcenter.gif\";\nimport singleSummarySVG from \"./assets/singleSummary.svg\";\nimport epochModePNG from \"./assets/epochMode.png\";\nimport keySVG from \"./assets/key.svg\";\nimport { NeuralNetwork, tools } from \"../../../nnMiniLibrary/exports\";\nimport { draw } from \"../../../Utils/exports\";\n/*  END IMPORTS  */\n\nclass MainTool extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t/* \n\t\t\tApp js state will be the main controller of logic to components\n\t\t\tNote to self: Keep state as shallow as possible to avoid complexity with this.setState()\n\t\t*/\n\t\tthis.state = {\n\t\t\t/* State for NN */\n\t\t\ttensorFlowNN: null,\n\t\t\tminiNN: null,\n\t\t\tX: [],\n\t\t\ty: [],\n\t\t\tyhat: [],\n\t\t\tshape: [1, 8, 8, 8, 1],\n\t\t\tlr: 0.001,\n\t\t\tepoch: 0,\n\t\t\tcpyEpoch: 0,\n\n\t\t\tbiasesData: [],\n\t\t\tweightsData: [],\n\t\t\tlossArray: [],\n\t\t\tloss: null,\n\t\t\tscale: 5,\n\t\t\trects: [],\n\n\t\t\tweights: [],\n\t\t\tshapedWeights: [],\n\t\t\tshapedRects: [],\n\n\t\t\tshapedLinks: [],\n\n\t\t\tdirection: \"edgePaused\",\n\t\t\tcurve: \"sin\",\n\n\t\t\t/* State for Components */\n\t\t\tcontrols: {\n\t\t\t\tplaying: false,\n\t\t\t\tspeed: 100,\n\t\t\t},\n\t\t\tsliderVal: 2,\n\t\t\tmode: false,\n\t\t\tstopRender: false,\n\t\t\tkeyFrameLayer: 0,\n\t\t\tkeyFrameLoss: 0,\n\t\t\tkeyFrameScatter: 0,\n\t\t\tsubEpoch: \"\",\n\t\t\tisAnimating: false,\n\t\t\tlossSavings: 0,\n\t\t\tlossDifference: 0,\n\t\t\tsingleInputExample: 0,\n\t\t\tsingleLabelExample: 0,\n\t\t\tnewOutput: 0,\n\n\t\t\t/* Dialog showing */\n\t\t\tcontrolCenterHelp: false,\n\t\t\tcustomizationHelp: false,\n\t\t\tneuralNetworkHelp: false,\n\t\t\tscatterHelp: false,\n\t\t\tlossHelp: false,\n\t\t\tlossChange: 0,\n\t\t\tpotentialYhat: [],\n\t\t\tsingleInputIndex: -1,\n\t\t\tshouldNotRender: false,\n\t\t\tstatus: \"reset\",\n\t\t\tzoom: 1,\n\t\t};\n\n\t\tthis.initNeuralNetwork = this.initNeuralNetwork.bind(this);\n\t\tthis.run = this.run.bind(this);\n\t\tthis.genTensorData = this.genTensorData.bind(this);\n\t\tthis.mutate = this.mutate.bind(this);\n\t\tthis.train = this.train.bind(this);\n\t\tthis.printParameters = this.printParameters.bind(this);\n\t\tthis.reset = this.reset.bind(this);\n\t\tthis.resetParameters = this.resetParameters.bind(this);\n\t\tthis.asyncPause = this.asyncPause.bind(this);\n\t\tthis.changeModelLr = this.changeModelLr.bind(this);\n\t\tthis.anim = this.anim.bind(this);\n\t\tthis.randomInputGeneration = this.randomInputGeneration.bind(this);\n\t}\n\trandomInputGeneration(X, y, weightsData, biasesData, shape, lr, mode) {\n\t\tconst randomInput = tools.getRandomInt(50);\n\t\tconst singleInputExample = X[randomInput];\n\t\tconst singleLabelExample = y[randomInput];\n\n\t\tlet formattedWeights = tools.formatWeightArray(weightsData, shape);\n\t\tlet nn = new NeuralNetwork(shape, formattedWeights, biasesData);\n\t\tlet clone = new NeuralNetwork(shape, formattedWeights, biasesData);\n\n\t\tnn.forward(singleInputExample, singleLabelExample);\n\t\tnn.backward();\n\n\t\tclone.forward(singleInputExample, singleLabelExample);\n\t\tclone.backward();\n\t\tclone.update(lr);\n\t\tclone.forward(singleInputExample, singleLabelExample);\n\n\t\tconst newOutput = clone.yhat;\n\t\tconst updatedLoss = clone.loss.output;\n\t\tconst lossSavings = updatedLoss;\n\t\tconst lossDifference = nn.loss.output - updatedLoss;\n\n\t\tconst forwardAll = (inputArray) => {\n\t\t\t/* Here we return an array of all the inputs fed forward */\n\t\t\tconst inputArrayLength = inputArray.length;\n\t\t\tlet outputArray = new Array(inputArrayLength);\n\n\t\t\tfor (let i = 0; i < inputArrayLength; i++) {\n\t\t\t\tclone.forward(inputArray[i], 0); //we dont care about loss here so the input label doesnt matter\n\t\t\t\toutputArray[i] = clone.yhat; //store all outputs to the outputArray\n\t\t\t}\n\n\t\t\treturn outputArray; //return the output array to be used elsewhere\n\t\t};\n\t\tlet a = forwardAll(X);\n\n\t\tthis.setState({\n\t\t\t...this.state,\n\t\t\tminiNN: nn,\n\t\t\tpotentialYhat: a,\n\t\t\tmode: true,\n\t\t\tlossSavings,\n\t\t\tlossDifference,\n\t\t\tsingleInputIndex: randomInput,\n\t\t\tsingleInputExample,\n\t\t\tsingleLabelExample,\n\t\t\tnewOutput,\n\t\t\tcontrols: {\n\t\t\t\t...this.state.controls,\n\t\t\t\tplaying: false,\n\t\t\t},\n\t\t});\n\t}\n\n\tasync anim() {\n\t\tconst { shape } = this.state;\n\t\tconst speed = 750;\n\t\t/* All anim needs to know is the shape */\n\t\tconst timer = (ms) => new Promise((res) => setTimeout(res, ms));\n\n\t\t/* animate the forward pass */\n\t\tthis.setState({\n\t\t\tsubEpoch: \"forward\",\n\t\t\tstatus: \"reset\",\n\t\t\tisAnimating: true,\n\t\t\tlossChange: 0,\n\t\t\tcpyEpoch: this.state.epoch,\n\t\t\tkeyFrameScatter: 0,\n\t\t});\n\t\tfor (let i = 0; i < shape.length; i++) {\n\t\t\tthis.setState({ keyFrameLayer: i });\n\t\t\tif (i === shape.length - 1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tawait timer(speed);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tkeyFrameLoss: 1,\n\t\t\tkeyFrameScatter: 1,\n\t\t\tstatus: \"real\",\n\t\t\tshouldNotRender: true,\n\t\t});\n\n\t\tawait timer(speed);\n\t\tthis.setState({ keyFrameLoss: 2, shouldNotRender: true });\n\t\tawait timer(speed);\n\t\tthis.setState({ keyFrameLoss: 3 });\n\n\t\t//we update the losschange\n\t\tthis.setState({\n\t\t\tlossChange: this.state.miniNN.loss.output,\n\t\t});\n\t\tthis.setState({ subEpoch: \"backward\", keyFrameScatter: 2 });\n\n\t\tfor (let i = shape.length - 1; i >= 0; i--) {\n\t\t\tthis.setState({ keyFrameLayer: i });\n\t\t\tawait timer(speed);\n\t\t}\n\t\tthis.setState({ keyFrameLayer: -1 });\n\n\t\tawait timer(speed);\n\t\tthis.setState({ subEpoch: \"transition\" });\n\n\t\tawait timer(1000);\n\t\tthis.setState({ subEpoch: \"update\", shouldNotRender: false });\n\t\tawait timer(1000);\n\t\t//we update the new loss\n\t\tthis.setState({\n\t\t\tisAnimating: false,\n\t\t\tlossChange: this.state.lossSavings,\n\t\t\tkeyFrameScatter: 4,\n\t\t\tcpyEpoch: this.state.cpyEpoch + 1,\n\t\t\tstatus: \"pred\",\n\t\t});\n\n\t\t/* animate update */\n\t}\n\n\tinitNeuralNetwork(shape) {\n\t\tconst { controls } = this.state;\n\t\tconst { playing } = controls;\n\n\t\t// If we are not training the tensorflow neural network\n\t\tif (!playing) {\n\t\t\t/* START SETUP */\n\t\t\tconst squareWidth = 32;\n\t\t\tconst xConstraints = { domain: [0, 100], range: [50, 750] };\n\t\t\tconst yConstraints = { domain: [0, 100], range: [500, 0] };\n\t\t\t//prettier-ignore\n\t\t\tconst {xScale, yScale} = draw.generateLinearScale(xConstraints,yConstraints);\n\t\t\t// Create the starting point and the stopping point for the neural network\n\t\t\tconst start = { x: 71 - squareWidth / 2, y: 250 - squareWidth / 2 };\n\t\t\tconst stop = { x: 750 - squareWidth / 2, y: 250 - squareWidth / 2 };\n\t\t\t// generate function to create paths from (x,y) to (x,y)\n\t\t\tconst linksGenerator = draw.generateLink(squareWidth / 2);\n\t\t\t// how the layers are proptioned compared to the linear scale\n\t\t\tconst layerProportion = [0, 25, 50, 75, 0];\n\t\t\t/* END SETUP */\n\n\t\t\t/* START GENERATING THE GRAPH */\n\t\t\tconst {\n\t\t\t\tflattenedNeurons,\n\t\t\t\tshapedNeurons,\n\t\t\t} = draw.generateNeuronPlacement(\n\t\t\t\tshape,\n\t\t\t\tlayerProportion,\n\t\t\t\tsquareWidth,\n\t\t\t\tstart,\n\t\t\t\tstop,\n\t\t\t\txScale,\n\t\t\t\tyScale\n\t\t\t);\n\t\t\tconst layerLinks = draw.generateLinksPlacement(\n\t\t\t\tshape,\n\t\t\t\tshapedNeurons,\n\t\t\t\tlinksGenerator\n\t\t\t);\n\t\t\t/* END GENERATING THE GRAPH */\n\n\t\t\tshapedNeurons.splice(0, 1); //in order for it to be lined up with the nn model\n\t\t\t//update the state of the links and rectangles to be rendered\n\t\t\tthis.setState({\n\t\t\t\tshapedLinks: layerLinks,\n\t\t\t\trects: flattenedNeurons,\n\t\t\t\tshapedRects: shapedNeurons,\n\t\t\t});\n\t\t} else if (playing) {\n\t\t\tconst { weightsData, shape } = this.state;\n\t\t\tconst flattenedWeights = tools.flatten(weightsData);\n\t\t\t//update the weights to be rendered\n\t\t\tconst shapedWeights = tools.formatWeightArray(weightsData, shape);\n\n\t\t\tthis.setState({ weights: flattenedWeights, shapedWeights });\n\t\t}\n\t}\n\n\tchangeModelLr(lrChange) {\n\t\ttf.tidy(() => {\n\t\t\tthis.setState({ lr: lrChange });\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\tasync run() {\n\t\tconst playing = !this.state.controls.playing;\n\t\tthis.mutate(\"controls\", \"playing\", playing);\n\t\tif (playing === true) {\n\t\t\tawait this.train(this.state.X, this.state.y);\n\t\t}\n\t}\n\n\tmutate(key, subkey, value) {\n\t\t/* copy of the state */\n\t\ttf.tidy(() => {\n\t\t\tlet state = { ...this.state };\n\t\t\t/* If this.state.key.subkey exists */\n\t\t\tif (key in state && subkey in state[key]) {\n\t\t\t\t/* Mutate the state */\n\t\t\t\tstate[key][subkey] = value;\n\t\t\t\tthis.setState({ state });\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Could not be found in state\");\n\t\t\t}\n\t\t\treturn undefined;\n\t\t});\n\t}\n\n\taddModel(model) {\n\t\treturn tf.tidy(() => {\n\t\t\tlet shape = this.state.shape;\n\t\t\tmodel.add(\n\t\t\t\ttf.layers.dense({\n\t\t\t\t\tinputShape: [1],\n\t\t\t\t\tunits: shape[1],\n\t\t\t\t\tactivation: \"relu\",\n\t\t\t\t\tuseBias: true,\n\t\t\t\t})\n\t\t\t);\n\t\t\tfor (let layer = 2; layer < shape.length - 1; layer++) {\n\t\t\t\tmodel.add(\n\t\t\t\t\ttf.layers.dense({\n\t\t\t\t\t\tunits: shape[layer],\n\t\t\t\t\t\tactivation: \"relu\",\n\t\t\t\t\t\tuseBias: true,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tmodel.add(\n\t\t\t\ttf.layers.dense({\n\t\t\t\t\tunits: 1,\n\t\t\t\t\tactivation: \"linear\",\n\t\t\t\t\tuseBias: true,\n\t\t\t\t})\n\t\t\t);\n\n\t\t\treturn model;\n\t\t});\n\t}\n\tmodelCompile(lr) {\n\t\tlet model = tf.sequential();\n\t\tthis.addModel(model);\n\t\tmodel.compile({\n\t\t\toptimizer: tf.train.sgd(lr),\n\t\t\tloss: \"meanSquaredError\",\n\t\t});\n\t\treturn model;\n\t}\n\tasync train(X, y) {\n\t\t/* START SETUP */\n\t\tconst XTensor = tf.tidy(() => {\n\t\t\treturn tf.tensor(X);\n\t\t});\n\t\tconst yTensor = tf.tidy(() => {\n\t\t\treturn tf.tensor(y);\n\t\t});\n\t\tconst model = tf.tidy(() => {\n\t\t\treturn this.state.tensorFlowNN;\n\t\t});\n\t\tconst timer = (ms) => new Promise((res) => setTimeout(res, ms));\n\t\t/* START SETUP */\n\n\t\t///* Until broken by user */\n\t\tlet play = this.state.controls.playing;\n\t\t////let epoch = 0;\n\t\twhile (play !== false) {\n\t\t\tthis.setState({ stopRender: true });\n\t\t\tconst { playing, speed } = this.state.controls;\n\t\t\tplay = playing;\n\t\t\tawait model.fit(XTensor, yTensor, {\n\t\t\t\tepochs: 1,\n\t\t\t\tbatchSize: 1,\n\t\t\t});\n\t\t\ttf.tidy(() => {\n\t\t\t\tlet yhatTensor = model.predict(XTensor);\n\t\t\t\tlet yhat = tools.tensorToArray(yhatTensor);\n\t\t\t\tlet loss = tf.losses.meanSquaredError(y, yhat).dataSync()[0];\n\t\t\t\tthis.printParameters(model, loss, yhat, this.state.epoch + 1);\n\t\t\t\treturn undefined;\n\t\t\t});\n\t\t\tthis.setState({ stopRender: false });\n\t\t\tawait timer(speed);\n\t\t}\n\t\tthis.setState({ tensorFlowNN: model });\n\t\ttf.dispose(XTensor);\n\t\ttf.dispose(yTensor);\n\t}\n\tasync genTensorData(eqn, scaled, volume) {\n\t\tawait tf.ready();\n\t\ttf.tidy(() => {\n\t\t\tconst XTensor = tf.linspace(\n\t\t\t\t-this.state.scale,\n\t\t\t\tthis.state.scale,\n\t\t\t\tvolume\n\t\t\t);\n\t\t\tconst yTensor = tf.mul(eqn(XTensor), scaled);\n\t\t\tconst yhatTensor = tf.zerosLike(XTensor);\n\t\t\tconst X = tools.tensorToArray(XTensor);\n\t\t\tconst y = tools.tensorToArray(yTensor);\n\t\t\tconst yhat = tools.tensorToArray(yhatTensor);\n\n\t\t\tthis.setState({\n\t\t\t\tX,\n\t\t\t\ty,\n\t\t\t\tyhat,\n\t\t\t});\n\t\t\treturn undefined;\n\t\t});\n\t}\n\tprintParameters(model, loss, yhat, epoch) {\n\t\tlet weightsData = [];\n\t\tlet biasesData = [];\n\t\tfor (let i = 0; i < model.getWeights().length; i++) {\n\t\t\t(i % 2 === 0 ? weightsData : biasesData).push(\n\t\t\t\tArray.from(model.getWeights()[i].dataSync())\n\t\t\t);\n\t\t}\n\t\tconst lossArray = [...this.state.lossArray, loss];\n\t\tthis.setState({\n\t\t\tbiasesData,\n\t\t\tweightsData,\n\t\t\tloss,\n\t\t\tyhat,\n\t\t\tepoch,\n\t\t\tlossArray,\n\t\t});\n\t\tthis.initNeuralNetwork(this.state.shape);\n\t}\n\tasync asyncPause() {\n\t\tthis.setState({ controls: { ...this.state.controls, playing: false } });\n\t}\n\tasync resetParameters(scale) {\n\t\ttf.dispose(this.state.tensorFlowNN);\n\t\tconst { curve } = this.state;\n\t\tlet eqn;\n\t\tlet optimizer;\n\t\ttf.tidy(() => {\n\t\t\tif (curve === \"sin\") {\n\t\t\t\teqn = tf.sin;\n\t\t\t} else if (curve === \"tanh\") {\n\t\t\t\teqn = tf.tanh;\n\t\t\t} else if (curve === \"cos\") {\n\t\t\t\teqn = tf.cos;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t});\n\t\tawait this.genTensorData(eqn, scale, 50);\n\t\tconst model = tf.tidy(() => {\n\t\t\treturn this.modelCompile(this.state.lr);\n\t\t});\n\t\tthis.setState({\n\t\t\tepoch: 0,\n\t\t\tloss: null,\n\t\t\tweights: [],\n\t\t\tminiNN: null,\n\t\t\ttensorFlowNN: model,\n\t\t\tshapedWeights: [],\n\t\t\tlossArray: [],\n\t\t});\n\t\ttf.dispose(optimizer);\n\t}\n\tasync reset(scale) {\n\t\tthis.asyncPause();\n\t\tthis.resetParameters(scale);\n\t}\n\n\tcorrectZoom(width) {\n\t\tconst zoomFactor = (1 - 0.75) / (1387 - 913);\n\t\tconst zoomShift = 0.75 - zoomFactor * 913;\n\t\tconst zoom = Math.min(1, zoomFactor * width + zoomShift - 0.2);\n\t\treturn zoom;\n\t}\n\tasync componentDidMount() {\n\t\ttf.setBackend(\"cpu\");\n\t\tthis.genTensorData(tf.sin, this.state.scale, 50);\n\t\tthis.initNeuralNetwork(this.state.shape);\n\t\tconst model = tf.tidy(() => {\n\t\t\treturn this.modelCompile(this.state.lr);\n\t\t});\n\n\t\tconst width = document.body.clientWidth;\n\t\tconst zoom = this.correctZoom(width);\n\t\tthis.setState({ tensorFlowNN: model, zoom });\n\t}\n\tshouldComponentUpdate() {\n\t\tif (this.state.stopRender) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\trender() {\n\t\t/* Destructure State*/\n\t\tconst {\n\t\t\tX,\n\t\t\ty,\n\t\t\tshape,\n\t\t\tscale,\n\t\t\tminiNN,\n\t\t\tweightsData,\n\t\t\tbiasesData,\n\t\t\tyhat,\n\t\t\trects,\n\t\t\tweights,\n\t\t\tmode,\n\t\t\tepoch,\n\t\t\tcurve,\n\t\t\tlr,\n\t\t\tloss,\n\t\t\tcontrols,\n\t\t\tshapedWeights,\n\t\t\tshapedLinks,\n\t\t\tshapedRects,\n\t\t\tkeyFrameLayer,\n\t\t\tkeyFrameLoss,\n\t\t\tsubEpoch,\n\t\t\tisAnimating,\n\t\t\tsingleInputExample,\n\t\t\tsingleLabelExample,\n\t\t\tlossSavings,\n\t\t\tcontrolCenterHelp,\n\t\t\tcustomizationHelp,\n\t\t\tneuralNetworkHelp,\n\t\t\tlossChange,\n\t\t\tscatterHelp,\n\t\t\tkeyFrameScatter,\n\t\t\tzoom,\n\t\t} = this.state;\n\t\tconst { playing, speed } = controls;\n\n\t\tconst lrs = [0.0001, 0.001, 0.003, 0.005];\n\t\tconst dataSets = [\n\t\t\t{ label: \"sin\", eqn: tf.sin, scale: 5 },\n\t\t\t{ label: \"cos\", eqn: tf.cos, scale: 5 },\n\t\t\t{ label: \"tanh\", eqn: tf.tanh, scale: 5 },\n\t\t];\n\n\t\t/* Destructure render */\n\t\tconst PlayButtonClick = (\n\t\t\t// eslint-disable-next-line\n\t\t\t<Fab\n\t\t\t\tstyle={{\n\t\t\t\t\tbackground: !this.state.controls.playing\n\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t: \"#D62839\",\n\t\t\t\t\tcolor: \"white\",\n\t\t\t\t}}\n\t\t\t\tdisableTouchRipple\n\t\t\t\tonClick={() => this.run()}\n\t\t\t>\n\t\t\t\t{!playing ? <PlayArrow /> : <Stop />}\n\t\t\t</Fab>\n\t\t);\n\t\tconst controlsReg = (\n\t\t\t<CardActions>\n\t\t\t\t<Tooltip title=\"reset\" arrow>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tdisabled={playing}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Replay />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t\t{PlayButtonClick}\n\t\t\t\t<Tooltip title=\"speed up\" arrow>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: speed === 0 ? \"#FFC006\" : \"grey\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tcontrols: {\n\t\t\t\t\t\t\t\t\t...controls,\n\t\t\t\t\t\t\t\t\tspeed: speed === 0 ? 100 : 0,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FastForward />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t</CardActions>\n\t\t);\n\t\tconst controlsBackProp = (\n\t\t\t<Box marginTop={2}>\n\t\t\t\t<CardActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tawait this.anim();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisabled={isAnimating}\n\t\t\t\t\t\tstyle={{ color: isAnimating ? \"lightgrey\" : \"black\" }}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Replay /> {\"  \"}REPLAY\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tthis.randomInputGeneration(\n\t\t\t\t\t\t\t\tX,\n\t\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\t\tweightsData,\n\t\t\t\t\t\t\t\tbiasesData,\n\t\t\t\t\t\t\t\tshape,\n\t\t\t\t\t\t\t\tlr,\n\t\t\t\t\t\t\t\tmode\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tawait this.anim();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ color: isAnimating ? \"lightgrey\" : \"#4BA3C3\" }}\n\t\t\t\t\t\tdisabled={isAnimating}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\tNew Training Example\n\t\t\t\t\t</Button>\n\t\t\t\t</CardActions>\n\t\t\t</Box>\n\t\t);\n\t\tconst controlCenter = (\n\t\t\t<Box width={400} marginLeft={10}>\n\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: \"#4BA3C3\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{\"Control Center\"}\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tstyle={{ color: \"orange\" }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({ controlCenterHelp: true });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Help />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<div></div>\n\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t\t{mode\n\t\t\t\t\t\t\t\t\t\t\t? \"Click to go back to fitting\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Click to see backpropagation\"}\n\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tarrow\n\t\t\t\t\t\t\tplacement=\"top-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={loss == null || isAnimating}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\tif (mode) {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch: \"\",\n\t\t\t\t\t\t\t\t\t\t\tmode: !mode,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tthis.run();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.randomInputGeneration(\n\t\t\t\t\t\t\t\t\t\t\tX,\n\t\t\t\t\t\t\t\t\t\t\ty,\n\t\t\t\t\t\t\t\t\t\t\tweightsData,\n\t\t\t\t\t\t\t\t\t\t\tbiasesData,\n\t\t\t\t\t\t\t\t\t\t\tshape,\n\t\t\t\t\t\t\t\t\t\t\tlr,\n\t\t\t\t\t\t\t\t\t\t\tmode\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tawait this.anim();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t\t\t\tEpoch: {mode ? this.state.cpyEpoch : epoch}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t{mode ? (\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: \"orange\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPhase:\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch === \"forward\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tForward\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch === \"backward\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tBackward\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={true}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\tsubEpoch === \"update\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"orange\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t{loss == null || mode\n\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t: `Loss: ${loss.toPrecision(6)}`}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography variant=\"h6\" style={{ color: \"#4BA3C3\" }}>\n\t\t\t\t\t\t\t{mode\n\t\t\t\t\t\t\t\t? `Training Example: (${singleInputExample.toPrecision(\n\t\t\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t\t  )}, ${singleLabelExample.toPrecision(3)})`\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\tkeyFrameScatter < 3 ? \"black\" : \"orangered\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{mode && lossChange !== 0\n\t\t\t\t\t\t\t\t? keyFrameScatter < 3\n\t\t\t\t\t\t\t\t\t? \"loss: \"\n\t\t\t\t\t\t\t\t\t: \"new loss: \"\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t{mode && lossChange !== 0 ? (\n\t\t\t\t\t\t\t\t<AnimatedNumber\n\t\t\t\t\t\t\t\t\tvalue={lossChange}\n\t\t\t\t\t\t\t\t\tformatValue={(value) =>\n\t\t\t\t\t\t\t\t\t\tvalue.toPrecision(6)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tduration={750}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography style={{ color: \"grey\" }} variant=\"caption\">\n\t\t\t\t\t\t\t{keyFrameScatter > 3 && mode\n\t\t\t\t\t\t\t\t? \"loss decrease: \"\n\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t{keyFrameScatter > 3 && mode ? (\n\t\t\t\t\t\t\t\t<AnimatedNumber\n\t\t\t\t\t\t\t\t\tvalue={this.state.lossDifference}\n\t\t\t\t\t\t\t\t\tformatValue={(value) =>\n\t\t\t\t\t\t\t\t\t\tvalue.toPrecision(6)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tduration={750}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t{mode ? controlsBackProp : controlsReg}\n\n\t\t\t\t\t\t<CardActions></CardActions>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<Box marginTop={5}>\n\t\t\t\t\t<Card variant=\"outlined\">\n\t\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor: \"#4BA3C3\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\"Customization \"}\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tstyle={{ color: \"orange\" }}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tcustomizationHelp: true,\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Help />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tLearning Rate\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{lrs.map((num, i) => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tlabel={`${num}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\tlr === num ? \"white\" : \"grey\",\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\tlr === num\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"lightgrey\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\ttf.tidy(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeModelLr(num);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t></Chip>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">\n\t\t\t\t\t\t\t\t\tData Set\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{dataSets.map((item, i) => (\n\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tcolor:\n\t\t\t\t\t\t\t\t\t\t\t\tcurve === item.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"white\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"grey\",\n\t\t\t\t\t\t\t\t\t\t\tbackground:\n\t\t\t\t\t\t\t\t\t\t\t\tcurve === item.label\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"#175676\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"lightgrey\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tshape,\n\t\t\t\t\t\t\t\t\t\t\t\tcurve: item.label,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t\ttf.tidy(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.genTensorData(\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.eqn,\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.scale,\n\t\t\t\t\t\t\t\t\t\t\t\t\t50\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t></Chip>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t\t\t<Typography variant=\"caption\">Layer</Typography>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlet a = shape;\n\t\t\t\t\t\t\t\t\t\tif (a.length < 5) {\n\t\t\t\t\t\t\t\t\t\t\ta[a.length - 1] = 8;\n\t\t\t\t\t\t\t\t\t\t\ta.push(1);\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ shape: a });\n\t\t\t\t\t\t\t\t\t\t\tthis.initNeuralNetwork(a);\n\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t+\n\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={playing || mode}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlet a = shape;\n\t\t\t\t\t\t\t\t\t\tif (a.length > 3) {\n\t\t\t\t\t\t\t\t\t\t\ta.splice(a.length - 2, 1);\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ shape: a });\n\t\t\t\t\t\t\t\t\t\t\tthis.initNeuralNetwork(a);\n\t\t\t\t\t\t\t\t\t\t\tthis.reset(scale);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t–\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</CardActions>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t\tconst scatter = (\n\t\t\t<Box marginLeft={10}>\n\t\t\t\t<Box>\n\t\t\t\t\t{mode ? (\n\t\t\t\t\t\t<AnimatedScatterPlot\n\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\t\tstart={-scale}\n\t\t\t\t\t\t\tstop={scale}\n\t\t\t\t\t\t\tX={X}\n\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t\tyhat={yhat}\n\t\t\t\t\t\t\tpotential={this.state.potentialYhat}\n\t\t\t\t\t\t\tid={2}\n\t\t\t\t\t\t\tselect={this.state.singleInputIndex}\n\t\t\t\t\t\t\ttimes={this.state.keyFrameScatter}\n\t\t\t\t\t\t\tshouldNotRender={this.state.shouldNotRender}\n\t\t\t\t\t\t\tstatus={this.state.status}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ScatterPlot\n\t\t\t\t\t\t\twidth={300}\n\t\t\t\t\t\t\theight={300}\n\t\t\t\t\t\t\tpadding={0}\n\t\t\t\t\t\t\tstart={-scale}\n\t\t\t\t\t\t\tstop={scale}\n\t\t\t\t\t\t\tX={X}\n\t\t\t\t\t\t\ty={y}\n\t\t\t\t\t\t\tyhat={yhat}\n\t\t\t\t\t\t\tid={1}\n\t\t\t\t\t\t\tduration={200}\n\t\t\t\t\t\t\tselect={-1}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t\t<Box marginTop={10}>\n\t\t\t\t\t<Loss lossArray={this.state.lossArray} duration={100} />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t\tconst neuralNetwork = (\n\t\t\t<Box>\n\t\t\t\t<NeuralNetworkComponent\n\t\t\t\t\tminiNN={miniNN}\n\t\t\t\t\tinput={singleInputExample}\n\t\t\t\t\tlabel={singleLabelExample}\n\t\t\t\t\tshapedWeights={shapedWeights}\n\t\t\t\t\tshapedLinks={shapedLinks}\n\t\t\t\t\tshapedRects={shapedRects}\n\t\t\t\t\tshape={shape}\n\t\t\t\t\tbiases={biasesData}\n\t\t\t\t\tweights={weights}\n\t\t\t\t\trects={rects}\n\t\t\t\t\tplaying={\n\t\t\t\t\t\tplaying\n\t\t\t\t\t\t\t? speed === 0\n\t\t\t\t\t\t\t\t? \"edgeForward\"\n\t\t\t\t\t\t\t\t: \"edgeSlowed\"\n\t\t\t\t\t\t\t: \"edgePaused\"\n\t\t\t\t\t}\n\t\t\t\t\tshow={playing}\n\t\t\t\t\tmode={mode}\n\t\t\t\t\tbackward={this.state.direction}\n\t\t\t\t\tkeyFrameLayer={keyFrameLayer}\n\t\t\t\t\tkeyFrameLoss={keyFrameLoss}\n\t\t\t\t\tsubEpoch={subEpoch}\n\t\t\t\t\tlossSavings={lossSavings}\n\t\t\t\t\tisAnimating={isAnimating}\n\t\t\t\t\tlr={lr}\n\t\t\t\t></NeuralNetworkComponent>\n\t\t\t\t<IconButton\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: \"orange\",\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbottom: \"500px\",\n\t\t\t\t\t\tleft: \"100px\",\n\t\t\t\t\t}}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tneuralNetworkHelp: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Help />\n\t\t\t\t</IconButton>\n\t\t\t</Box>\n\t\t);\n\n\t\treturn (\n\t\t\t<div id=\"app\">\n\t\t\t\t<Card\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: \"#FAFAFA\",\n\t\t\t\t\t\toutlineColor: \"white\",\n\t\t\t\t\t\tpaddingBottom: \"1em\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CardContent\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttransform: `scale(${zoom})`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginRight={90}>\n\t\t\t\t\t\t\t\t<img src={keySVG} alt=\"key\"></img>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<Typography variant=\"h2\">\n\t\t\t\t\t\t\t\t\t<b>Backprop Tool</b>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName=\"regular\"\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\tmarginTop={2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{neuralNetwork}\n\t\t\t\t\t\t\t{scatter}\n\t\t\t\t\t\t\t{controlCenter}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#F7F7F7\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={controlCenterHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ controlCenterHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={controlGif}\n\t\t\t\t\t\t\talt=\"how to use control center\"\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={1}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tPress{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<Fab\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: \"#175676\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<PlayArrow fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t\t</Fab>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tto start training\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tThen press{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tEPOCH\n\t\t\t\t\t\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tto see backpropagation animation\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tTo go back to fitting mode click{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tEPOCH\n\t\t\t\t\t\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tagain\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<img src={epochModePNG} width=\"100%\"></img>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#F7F7F7\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={customizationHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ customizationHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">Fixed</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tBy default, this Neural Network stays fixed\n\t\t\t\t\t\t\t\t\twith\n\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tone input neuron, at least one\n\t\t\t\t\t\t\t\t\t\t\thidden layer of eight ReLU neurons,\n\t\t\t\t\t\t\t\t\t\t\tand an output layer with one linear\n\t\t\t\t\t\t\t\t\t\t\tneuron.\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tStochastic Gradient Descent (one\n\t\t\t\t\t\t\t\t\t\t\ttraining example per epoch)\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">Variable</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tYou have the ability to change\n\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tLearning Rate (0.0001, 0.001, 0.003,\n\t\t\t\t\t\t\t\t\t\t\tor 0.005)\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tData set (sine wave, cosine wave, or\n\t\t\t\t\t\t\t\t\t\t\ttanh curve)\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\tHidden layer neurons (min 1 and max\n\t\t\t\t\t\t\t\t\t\t\t3)\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tbackgroundColor: \"#FAFAFA\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\topen={neuralNetworkHelp}\n\t\t\t\t>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.setState({ neuralNetworkHelp: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogActions>\n\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<img src={Summary} alt=\"summary\" width=\"400\" />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">\n\t\t\t\t\t\t\t\t\tNeural Network\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tEach square is a neuron in the neural\n\t\t\t\t\t\t\t\t\tnetwork. To see the types of neurons check\n\t\t\t\t\t\t\t\t\tthe key located right above the neural\n\t\t\t\t\t\t\t\t\tnetwork.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={singleSummarySVG}\n\t\t\t\t\t\t\talt=\"singleSummary\"\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t\t\t\t<Box marginBottom={5}>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tDuring a single epoch after clicking{\" \"}\n\t\t\t\t\t\t\t\t\t<Button size=\"small\" variant=\"contained\">\n\t\t\t\t\t\t\t\t\t\tEPOCH\n\t\t\t\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t\t\t\t, each arrow will represent the direction to\n\t\t\t\t\t\t\t\t\tnudge the output to lower loss.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tThe fill color shows the activation output,\n\t\t\t\t\t\t\t\t\tbrighter is more active.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MainTool;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport { Typography } from \"@material-ui/core\";\n\nclass Header extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { width: 2000, height: 1000 };\n\t}\n\n\tasync componentDidMount() {\n\t\tlet w = document.body.clientWidth;\n\t\tthis.setState({ width: w, height: 500 });\n\t\tconst { width, height } = await this.state;\n\t\tconst svg = d3.select(\"#contourBackground\").select(\"#contour\");\n\t\tconst darkness = -8;\n\n\t\tconst data = {\n\t\t\tX: [0, 1, 2, 3, 4],\n\t\t\ty: [4, 3, 3, 1, 0],\n\t\t};\n\t\tlet n = width,\n\t\t\tm = height,\n\t\t\tvalues = new Array(n * m);\n\n\t\tfor (let j = 0.5, k = 0; j < m; ++j) {\n\t\t\tfor (let i = 0.5; i < n; ++i, ++k) {\n\t\t\t\tvalues[k] = loss((i / n) * 10 - 5, (j / m) * 20);\n\t\t\t}\n\t\t}\n\n\t\tfunction loss(m, b) {\n\t\t\tlet x = data.X,\n\t\t\t\ty = data.y;\n\t\t\tlet summed = 0;\n\t\t\tfor (let i = 0; i < data.X.length; i++) {\n\t\t\t\tsummed += Math.pow(m * x[i] + b - y[i], 2);\n\t\t\t}\n\t\t\treturn summed / (2 * x.length);\n\t\t}\n\t\tlet thresholds = d3.range(darkness, 20, 1).map((i) => Math.pow(2, i));\n\t\tlet color = d3.scaleSequentialLog(\n\t\t\td3.extent(thresholds),\n\t\t\td3.interpolateCool\n\t\t);\n\t\tconst contours = d3.contours().size([n, m]).thresholds(thresholds)(\n\t\t\tvalues\n\t\t);\n\t\tsvg.append(\"g\")\n\t\t\t.attr(\"fill\", \"none\")\n\t\t\t.selectAll(\"path\")\n\t\t\t.data(contours)\n\t\t\t.join(\"path\")\n\t\t\t.attr(\"fill\", (d) => color(d.value))\n\t\t\t.attr(\"d\", d3.geoPath());\n\t}\n\trender() {\n\t\tconst { width, height } = this.state;\n\t\treturn (\n\t\t\t<div id=\"contourBackground\">\n\t\t\t\t<svg style={{ width, height }} id=\"contour\"></svg>\n\t\t\t\t<Typography\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbottom: 200,\n\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"h2\"\n\t\t\t\t>\n\t\t\t\t\t<b>How Neural Networks Learn </b>\n\t\t\t\t</Typography>\n\t\t\t\t<Typography\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tbottom: 200,\n\t\t\t\t\t\tleft: 100,\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t}}\n\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t>\n\t\t\t\t\tLearn backpropogation and optimization with interactive\n\t\t\t\t\ttools\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Header;\n","import React, { Component } from \"react\";\nimport headerTitleSVG from \"./headerTitle.svg\";\nimport ReactGa from \"react-ga\";\nimport { MainTool, Explanation } from \"./components/exports\";\nimport { Typography, Button, Box, IconButton } from \"@material-ui/core\";\nimport { GitHub } from \"@material-ui/icons\";\nimport { Element } from \"react-scroll\";\nimport { Typeset } from \"./components/exports\";\n\nclass App extends Component {\n\tcomponentDidMount() {\n\t\tReactGa.initialize(\"UA-192166007-1\");\n\t\tReactGa.pageview(\"/\");\n\t}\n\trender() {\n\t\tconst link = (href, content, isPerson) => (\n\t\t\t<Button\n\t\t\t\tstyle={{ color: isPerson ? \"#56A8C7\" : \"#FFA500\" }}\n\t\t\t\thref={href}\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t>\n\t\t\t\t{content}\n\t\t\t</Button>\n\t\t);\n\t\tconst header = (\n\t\t\t<div>\n\t\t\t\t<img\n\t\t\t\t\tsrc={headerTitleSVG}\n\t\t\t\t\talt={\"header with title\"}\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\n\t\tconst acks = (\n\t\t\t<Box display=\"flex\" justifyContent=\"center\">\n\t\t\t\t<Box width=\"60%\" marginTop={4}>\n\t\t\t\t\t<Typography variant=\"h3\">\n\t\t\t\t\t\t<b>Acknowledgements</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://playground.tensorflow.org/\",\n\t\t\t\t\t\t\t\"TensorFlow Playground\",\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tby\n\t\t\t\t\t\t{link(\"https://smilkov.com/\", \"Daniel Smilkov\", true)}\n\t\t\t\t\t\t{link(\"http://shancarter.com/\", \"shan carter\", true)}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tInspiration for the representation of the neural\n\t\t\t\t\t\t\t\tnetwork\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tAdapted d3 code for the loss graph’s and best\n\t\t\t\t\t\t\t\tfit graphs axis scaling\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tAdapted css code for the links keyframe\n\t\t\t\t\t\t\t\tanimation\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://www.youtube.com/watch?v=Ilg3gGewQ5U\",\n\t\t\t\t\t\t\t\"What is backpropagation really doing?\",\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tby\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://www.3blue1brown.com/\",\n\t\t\t\t\t\t\t\"3Blue1Brown\",\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tInspiration to use arrows to represent where to\n\t\t\t\t\t\t\t\tnudge outputs to lower loss\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Inspiration for weights color scheme</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://poloclub.github.io/cnn-explainer/\",\n\t\t\t\t\t\t\t\"CNN explainer\",\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tby\n\t\t\t\t\t\t{link(\"https://zijie.wang/\", \"Jay Wang\", true)}\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://www.linkedin.com/in/robert-turko/\",\n\t\t\t\t\t\t\t\"Robert Turko\",\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{link(\"https://oshaikh.com/\", \"Omar Shaikh\", true)}\n\t\t\t\t\t\t{link(\"https://haekyu.com/\", \"Haekyu Park\", true)}\n\t\t\t\t\t\t{link(\"http://nilakshdas.com/\", \"Nilaksh Das\", true)}\n\t\t\t\t\t\t{link(\"https://fredhohman.com/\", \"Fred Hohman\", true)}\n\t\t\t\t\t\t{link(\"https://minsuk.com/\", \"Minsuk Kahng\", true)}\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://www.cc.gatech.edu/~dchau/\",\n\t\t\t\t\t\t\t\"Polo Chau\",\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tInspiration for the article format with\n\t\t\t\t\t\t\t\tcomponents\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>Inspiration for the name backprop explainer</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<br />\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<b>How was this made?</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tMade with{link(\"https://d3js.org/\", \"d3.js\", false)}\n\t\t\t\t\t\tand\n\t\t\t\t\t\t{link(\"https://reactjs.org/\", \"react.js\", false)}for\n\t\t\t\t\t\tinteractive visualization components,\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://www.tensorflow.org/js\",\n\t\t\t\t\t\t\t\"tensorflow.js\",\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tfor neural network training and fast math operations,\n\t\t\t\t\t\tand\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"https://katex.org/\",\n\t\t\t\t\t\t\tTypeset.$(\"\\\\KaTeX\"),\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tto render {Typeset.$(\"\\\\LaTeX\")} math equations.\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<b>Found any errors?</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tIf you found in error in an explanation, equation, or in\n\t\t\t\t\t\tone of the interactive components please create an issue\n\t\t\t\t\t\ton Github\n\t\t\t\t\t\t<IconButton href=\"https://github.com/xnought/backprop-explainer\">\n\t\t\t\t\t\t\t<GitHub />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Typography variant=\"h4\">\n\t\t\t\t\t\t<b>Who made this?</b>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tCreated by\n\t\t\t\t\t\t{link(\n\t\t\t\t\t\t\t\"http://donnybertucci.com/\",\n\t\t\t\t\t\t\t\"Donny bertucci\",\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tProject advised by\n\t\t\t\t\t\t{link(\"http://minsuk.com/\", \"Minsuk Kahng\", true)}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<br />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{header}\n\t\t\t\t<Explanation />\n\t\t\t\t<Element name=\"mainTool\">\n\t\t\t\t\t<MainTool />\n\t\t\t\t</Element>\n\t\t\t\t<Element name=\"acknowledgements\">{acks}</Element>\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}